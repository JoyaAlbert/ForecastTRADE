
### candidate=c2_run23_like ###
  -> ticker=MSFT encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=12 | technical=45 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: 0.92 | WinRate: 52.1%
  â†’ AUC: 0.5130 | AUCPR: 0.5354 | Accuracy: 0.5583 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7262 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 16/120 (13.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=33 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=16/16 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 9/16 (56.2% win rate)
      Losing trades: 7
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.008005
      Min/Max: -0.021498 / 0.072435
      Long positions: 16
  â†’ Threshold (sharpe): BUY=0.7372 | Sharpe: 2.12 | WinRate: 57.4%
  â†’ AUC: 0.3428 | AUCPR: 0.5863 | Accuracy: 0.4083 (0.3750 w/ threshold)
  â†’ Sharpe: 1.7305 (0.8606 w/ threshold) | Max DD: -0.0282
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7198 | Sharpe: 1.36 | WinRate: 53.7%
  â†’ AUC: 0.4293 | AUCPR: 0.4550 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.6772 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 7/120 (5.8%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=9 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=7/7 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.331

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 6/7 (85.7% win rate)
      Losing trades: 1
      Avoided losses: 59 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000080
      Std dev: 0.000537
      Min/Max: -0.000395 / 0.004608
      Long positions: 7
  â†’ Threshold (sharpe): BUY=0.6144 | Sharpe: 1.52 | WinRate: 63.0%
  â†’ AUC: 0.8036 | AUCPR: 0.7560 | Accuracy: 0.7000 (0.5417 w/ threshold)
  â†’ Sharpe: 1.6455 (0.0127 w/ threshold) | Max DD: -0.0008
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6640 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5452 | AUCPR: 0.4005 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6901 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6260 | AUCPR: 0.5882 | Accuracy: 0.5750 (0.5750 w/ threshold)
  â†’ Sharpe: 1.3255 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.512974 0.535434  0.558333              0.491667  0.726199     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     48                      0.40        0.025000                  60                            3      0.053845                         60                          12                         45                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.342797 0.586274  0.408333              0.375000  1.730534     -0.028165            0.860648   0.562500 0.116883 0.193548       0.737174             NaN           sharpe                 True           0.061603    0.026603    0.284395 14.000000       0.500000           16                     54                      0.45        0.133333                  55                           16      0.037757                         65                          33                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.455041  0.466667              0.425000  1.677212     -0.032274            1.252751   0.382353 0.213115 0.273684       0.719825             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                      0.45        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.803611 0.755997  0.700000              0.541667  1.645520     -0.000773            0.012710   0.857143 0.100000 0.179104       0.614376             NaN           sharpe                 True           0.009575    0.003722   -1.672345  2.341442       0.571429            7                     54                      0.45        0.058333                  39                            7      0.017923                         81                          23                          9                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545185 0.400497  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.664038             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                      0.45        0.100000                  55                           12      0.047787                         65                          10                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.626007 0.588161  0.575000              0.575000  1.325453     -0.033050            2.139146   0.605263 0.389831 0.474226       0.690111             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                      0.50        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5433 Â± 0.1605
AUCPR:                0.5536 Â± 0.1239
Accuracy:             0.5375 Â± 0.1004
Accuracy (threshold): 0.5028 Â± 0.0899
Sharpe Ratio:         0.9925 Â± 1.1147
Sharpe (threshold):   0.8395 Â± 0.8193
Net Sharpe:           0.0336 Â± 1.0184
Net Return:           0.0227 Â± 0.0231
Turnover:             9.1080 Â± 5.6719
Trade Coverage:       0.1528 Â± 0.1203
EV Mean/Fold:         0.03573 Â± 0.01356
Coverage Ratio:       1.0000
Max Drawdown:         -0.0246 Â± 0.0146
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 845 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 845                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0418             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000614                      â•‘
â•‘ Accuracy Variance: 0.000510             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.170502
             macd    0.128160
         ema_long    0.101580
        ema_short    0.093348
distance_to_ma200    0.092510
  close_vix_ratio    0.078448
            macds    0.074936
              mfi    0.063843
    volatility_20    0.061514
   price_to_sma20    0.051008
              atr    0.043066
           roc_20    0.041085
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 51.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.5%                                                  â”‚
â”‚    â€¢ Min Probability: 36.0%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.5% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 51.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5174471586942673,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01686 | Quality=0.017 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=845 score=-0.1448 net_sharpe=0.0336 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=56 | percentile=19 | technical=42 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6288 | Sharpe: 0.57 | WinRate: 50.0%
  â†’ AUC: 0.4911 | AUCPR: 0.5256 | Accuracy: 0.5417 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7267 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7257 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3129 | AUCPR: 0.5563 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000406
      Std dev: 0.006455
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.6583 | Sharpe: 1.31 | WinRate: 51.7%
  â†’ AUC: 0.4182 | AUCPR: 0.4506 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.7212 (0.8035 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=4 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.351

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 8/12 (66.7% win rate)
      Losing trades: 4
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000103
      Std dev: 0.001042
      Min/Max: -0.007918 / 0.005098
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6781 | Sharpe: 2.26 | WinRate: 66.7%
  â†’ AUC: 0.8108 | AUCPR: 0.7511 | Accuracy: 0.7000 (0.5333 w/ threshold)
  â†’ Sharpe: 1.6455 (0.3589 w/ threshold) | Max DD: -0.0079
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 11/120 (9.2%)
   ğŸ” Filter rejections: threshold=66 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=11/11 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/11 (45.5% win rate)
      Losing trades: 6
      Avoided losses: 69 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000084
      Std dev: 0.003777
      Min/Max: -0.014202 / 0.033906
      Long positions: 11
  â†’ Threshold (sharpe): BUY=0.6429 | Sharpe: -0.80 | WinRate: 48.1%
  â†’ AUC: 0.5505 | AUCPR: 0.4044 | Accuracy: 0.5083 (0.6167 w/ threshold)
  â†’ Sharpe: -1.0070 (0.0178 w/ threshold) | Max DD: -0.0377
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.6733 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6357 | AUCPR: 0.5969 | Accuracy: 0.5833 (0.5833 w/ threshold)
  â†’ Sharpe: 1.2390 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.491071 0.525580  0.541667              0.491667  0.726659     -0.013440            0.833544   1.000000 0.046875 0.089552       0.628786             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     60                  0.500000        0.025000                  64                            3      0.053845                         56                          19                         42                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.312896 0.556257  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.725711             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.418172 0.450620  0.458333              0.425000  1.721154     -0.032274            0.803507   0.382353 0.213115 0.273684       0.658262             NaN           sharpe                 True           0.048729    0.023729    0.288311 10.000000       0.470588           34                     60                  0.500000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.810833 0.751124  0.700000              0.533333  1.645520     -0.007918            0.358949   0.666667 0.133333 0.222222       0.678055             NaN           sharpe                 True           0.012351    0.001542   -1.089962  4.323544       0.750000           12                     36                  0.300000        0.100000                  39                           12      0.020184                         81                          23                          4                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.550519 0.404446  0.508333              0.616667 -1.007047     -0.037674            0.017828   0.454545 0.111111 0.178571       0.642867             NaN           sharpe                 True           0.010033   -0.006384   -0.552541  6.566594       0.454545           11                     54                  0.450000        0.091667                  54                           11      0.047787                         66                          10                         33                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.635732 0.596901  0.583333              0.583333  1.239016     -0.033050            2.096009   0.621622 0.389831 0.479166       0.673288             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5365 Â± 0.1740
AUCPR:                0.5475 Â± 0.1219
Accuracy:             0.5194 Â± 0.1256
Accuracy (threshold): 0.4917 Â± 0.1157
Sharpe Ratio:         0.8169 Â± 1.0075
Sharpe (threshold):   0.7840 Â± 0.7111
Net Sharpe:           0.0327 Â± 0.7632
Net Return:           0.0168 Â± 0.0197
Turnover:             9.4384 Â± 5.5372
Trade Coverage:       0.1861 Â± 0.1278
EV Mean/Fold:         0.03611 Â± 0.01299
Coverage Ratio:       1.0000
Max Drawdown:         -0.0299 Â± 0.0170
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 846 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 846                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0415             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000613                      â•‘
â•‘ Accuracy Variance: 0.000509             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.159464
             macd    0.110481
         ema_long    0.107796
        ema_short    0.096095
  close_vix_ratio    0.089146
            macds    0.088482
              mfi    0.069082
    volatility_20    0.067571
distance_to_ma200    0.066596
   price_to_sma20    0.057937
           roc_20    0.045473
              atr    0.041878
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 47.6%                                              â”‚
â”‚    â€¢ Max Probability: 64.3%                                                  â”‚
â”‚    â€¢ Min Probability: 19.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 45.0% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 47.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.47588181495666504,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01249 | Quality=0.000 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=846 score=-0.1662 net_sharpe=0.0327 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=62 | percentile=17 | technical=38 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: -0.26 | WinRate: 45.2%
  â†’ AUC: 0.5022 | AUCPR: 0.5368 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3120 | AUCPR: 0.5561 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7405 | Sharpe: 1.04 | WinRate: 53.7%
  â†’ AUC: 0.4276 | AUCPR: 0.4544 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.8161 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=7 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7788 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7989 | AUCPR: 0.7224 | Accuracy: 0.7583 (0.5917 w/ threshold)
  â†’ Sharpe: 1.2698 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=71 | percentile=4 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.7507 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5461 | AUCPR: 0.4011 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7270 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6346 | AUCPR: 0.5965 | Accuracy: 0.5750 (0.5833 w/ threshold)
  â†’ Sharpe: 1.3255 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.502232 0.536785  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     42                  0.350000        0.025000                  58                            3      0.053845                         62                          17                         38                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.311990 0.556109  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.765500             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.427619 0.454421  0.458333              0.425000  1.816107     -0.032274            1.252751   0.382353 0.213115 0.273684       0.740536             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                  0.450000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.798889 0.722398  0.758333              0.591667  1.269774     -0.035238            0.850054   0.666667 0.366667 0.473118       0.778849             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  59                           33      0.029547                         61                           7                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.546074 0.401093  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.750680             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                  0.450000        0.100000                  49                           12      0.047787                         71                           4                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.634621 0.596456  0.575000              0.583333  1.325453     -0.033050            2.096009   0.621622 0.389831 0.479166       0.727046             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5369 Â± 0.1685
AUCPR:                0.5445 Â± 0.1124
Accuracy:             0.5306 Â± 0.1428
Accuracy (threshold): 0.5000 Â± 0.1206
Sharpe Ratio:         0.7643 Â± 1.0371
Sharpe (threshold):   0.9274 Â± 0.7178
Net Sharpe:           0.2626 Â± 0.5990
Net Return:           0.0211 Â± 0.0221
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2167 Â± 0.1225
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 847 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 847                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0412             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000612                      â•‘
â•‘ Accuracy Variance: 0.000509             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.174539
             macd    0.112696
        ema_short    0.112142
         ema_long    0.087568
            macds    0.087334
    volatility_20    0.077971
distance_to_ma200    0.077321
  close_vix_ratio    0.069650
              mfi    0.064480
   price_to_sma20    0.053557
           roc_20    0.044886
              atr    0.037856
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 50.8%                                              â”‚
â”‚    â€¢ Max Probability: 60.8%                                                  â”‚
â”‚    â€¢ Min Probability: 14.6%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 46.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 50.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5075393443306287,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01582 | Quality=0.008 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=847 score=-0.1205 net_sharpe=0.2626 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=MSFT encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=12 | technical=45 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: 0.92 | WinRate: 52.1%
  â†’ AUC: 0.5130 | AUCPR: 0.5354 | Accuracy: 0.5583 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7262 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 16/120 (13.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=33 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=16/16 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 9/16 (56.2% win rate)
      Losing trades: 7
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.008005
      Min/Max: -0.021498 / 0.072435
      Long positions: 16
  â†’ Threshold (sharpe): BUY=0.7372 | Sharpe: 2.12 | WinRate: 57.4%
  â†’ AUC: 0.3428 | AUCPR: 0.5863 | Accuracy: 0.4083 (0.3750 w/ threshold)
  â†’ Sharpe: 1.7305 (0.8606 w/ threshold) | Max DD: -0.0282
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7198 | Sharpe: 1.36 | WinRate: 53.7%
  â†’ AUC: 0.4293 | AUCPR: 0.4550 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.6772 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 7/120 (5.8%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=9 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=7/7 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.331

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 6/7 (85.7% win rate)
      Losing trades: 1
      Avoided losses: 59 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000080
      Std dev: 0.000537
      Min/Max: -0.000395 / 0.004608
      Long positions: 7
  â†’ Threshold (sharpe): BUY=0.6144 | Sharpe: 1.52 | WinRate: 63.0%
  â†’ AUC: 0.8036 | AUCPR: 0.7560 | Accuracy: 0.7000 (0.5417 w/ threshold)
  â†’ Sharpe: 1.6455 (0.0127 w/ threshold) | Max DD: -0.0008
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6640 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5452 | AUCPR: 0.4005 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6901 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6260 | AUCPR: 0.5882 | Accuracy: 0.5750 (0.5750 w/ threshold)
  â†’ Sharpe: 1.3255 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.512974 0.535434  0.558333              0.491667  0.726199     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     48                      0.40        0.025000                  60                            3      0.053845                         60                          12                         45                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.342797 0.586274  0.408333              0.375000  1.730534     -0.028165            0.860648   0.562500 0.116883 0.193548       0.737174             NaN           sharpe                 True           0.061603    0.026603    0.284395 14.000000       0.500000           16                     54                      0.45        0.133333                  55                           16      0.037757                         65                          33                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.455041  0.466667              0.425000  1.677212     -0.032274            1.252751   0.382353 0.213115 0.273684       0.719825             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                      0.45        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.803611 0.755997  0.700000              0.541667  1.645520     -0.000773            0.012710   0.857143 0.100000 0.179104       0.614376             NaN           sharpe                 True           0.009575    0.003722   -1.672345  2.341442       0.571429            7                     54                      0.45        0.058333                  39                            7      0.017923                         81                          23                          9                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545185 0.400497  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.664038             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                      0.45        0.100000                  55                           12      0.047787                         65                          10                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.626007 0.588161  0.575000              0.575000  1.325453     -0.033050            2.139146   0.605263 0.389831 0.474226       0.690111             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                      0.50        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5433 Â± 0.1605
AUCPR:                0.5536 Â± 0.1239
Accuracy:             0.5375 Â± 0.1004
Accuracy (threshold): 0.5028 Â± 0.0899
Sharpe Ratio:         0.9925 Â± 1.1147
Sharpe (threshold):   0.8395 Â± 0.8193
Net Sharpe:           0.0336 Â± 1.0184
Net Return:           0.0227 Â± 0.0231
Turnover:             9.1080 Â± 5.6719
Trade Coverage:       0.1528 Â± 0.1203
EV Mean/Fold:         0.03573 Â± 0.01356
Coverage Ratio:       1.0000
Max Drawdown:         -0.0246 Â± 0.0146
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 848 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 848                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0412             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000612                      â•‘
â•‘ Accuracy Variance: 0.000508             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.170502
             macd    0.128160
         ema_long    0.101580
        ema_short    0.093348
distance_to_ma200    0.092510
  close_vix_ratio    0.078448
            macds    0.074936
              mfi    0.063843
    volatility_20    0.061514
   price_to_sma20    0.051008
              atr    0.043066
           roc_20    0.041085
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 51.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.5%                                                  â”‚
â”‚    â€¢ Min Probability: 36.0%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.5% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 51.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5174471586942673,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01686 | Quality=0.017 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=848 score=-0.1448 net_sharpe=0.0336 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=56 | percentile=19 | technical=42 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6288 | Sharpe: 0.57 | WinRate: 50.0%
  â†’ AUC: 0.4911 | AUCPR: 0.5256 | Accuracy: 0.5417 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7267 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7257 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3129 | AUCPR: 0.5563 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000406
      Std dev: 0.006455
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.6583 | Sharpe: 1.31 | WinRate: 51.7%
  â†’ AUC: 0.4182 | AUCPR: 0.4506 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.7212 (0.8035 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=4 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.351

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 8/12 (66.7% win rate)
      Losing trades: 4
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000103
      Std dev: 0.001042
      Min/Max: -0.007918 / 0.005098
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6781 | Sharpe: 2.26 | WinRate: 66.7%
  â†’ AUC: 0.8108 | AUCPR: 0.7511 | Accuracy: 0.7000 (0.5333 w/ threshold)
  â†’ Sharpe: 1.6455 (0.3589 w/ threshold) | Max DD: -0.0079
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 11/120 (9.2%)
   ğŸ” Filter rejections: threshold=66 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=11/11 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/11 (45.5% win rate)
      Losing trades: 6
      Avoided losses: 69 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000084
      Std dev: 0.003777
      Min/Max: -0.014202 / 0.033906
      Long positions: 11
  â†’ Threshold (sharpe): BUY=0.6429 | Sharpe: -0.80 | WinRate: 48.1%
  â†’ AUC: 0.5505 | AUCPR: 0.4044 | Accuracy: 0.5083 (0.6167 w/ threshold)
  â†’ Sharpe: -1.0070 (0.0178 w/ threshold) | Max DD: -0.0377
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.6733 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6357 | AUCPR: 0.5969 | Accuracy: 0.5833 (0.5833 w/ threshold)
  â†’ Sharpe: 1.2390 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.491071 0.525580  0.541667              0.491667  0.726659     -0.013440            0.833544   1.000000 0.046875 0.089552       0.628786             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     60                  0.500000        0.025000                  64                            3      0.053845                         56                          19                         42                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.312896 0.556257  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.725711             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.418172 0.450620  0.458333              0.425000  1.721154     -0.032274            0.803507   0.382353 0.213115 0.273684       0.658262             NaN           sharpe                 True           0.048729    0.023729    0.288311 10.000000       0.470588           34                     60                  0.500000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.810833 0.751124  0.700000              0.533333  1.645520     -0.007918            0.358949   0.666667 0.133333 0.222222       0.678055             NaN           sharpe                 True           0.012351    0.001542   -1.089962  4.323544       0.750000           12                     36                  0.300000        0.100000                  39                           12      0.020184                         81                          23                          4                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.550519 0.404446  0.508333              0.616667 -1.007047     -0.037674            0.017828   0.454545 0.111111 0.178571       0.642867             NaN           sharpe                 True           0.010033   -0.006384   -0.552541  6.566594       0.454545           11                     54                  0.450000        0.091667                  54                           11      0.047787                         66                          10                         33                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.635732 0.596901  0.583333              0.583333  1.239016     -0.033050            2.096009   0.621622 0.389831 0.479166       0.673288             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5365 Â± 0.1740
AUCPR:                0.5475 Â± 0.1219
Accuracy:             0.5194 Â± 0.1256
Accuracy (threshold): 0.4917 Â± 0.1157
Sharpe Ratio:         0.8169 Â± 1.0075
Sharpe (threshold):   0.7840 Â± 0.7111
Net Sharpe:           0.0327 Â± 0.7632
Net Return:           0.0168 Â± 0.0197
Turnover:             9.4384 Â± 5.5372
Trade Coverage:       0.1861 Â± 0.1278
EV Mean/Fold:         0.03611 Â± 0.01299
Coverage Ratio:       1.0000
Max Drawdown:         -0.0299 Â± 0.0170
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 849 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 849                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0409             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000611                      â•‘
â•‘ Accuracy Variance: 0.000508             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.159464
             macd    0.110481
         ema_long    0.107796
        ema_short    0.096095
  close_vix_ratio    0.089146
            macds    0.088482
              mfi    0.069082
    volatility_20    0.067571
distance_to_ma200    0.066596
   price_to_sma20    0.057937
           roc_20    0.045473
              atr    0.041878
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 47.6%                                              â”‚
â”‚    â€¢ Max Probability: 64.3%                                                  â”‚
â”‚    â€¢ Min Probability: 19.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 45.0% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 47.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.47588181495666504,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01249 | Quality=0.000 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=849 score=-0.1662 net_sharpe=0.0327 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=62 | percentile=17 | technical=38 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: -0.26 | WinRate: 45.2%
  â†’ AUC: 0.5022 | AUCPR: 0.5368 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3120 | AUCPR: 0.5561 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7405 | Sharpe: 1.04 | WinRate: 53.7%
  â†’ AUC: 0.4276 | AUCPR: 0.4544 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.8161 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=7 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7788 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7989 | AUCPR: 0.7224 | Accuracy: 0.7583 (0.5917 w/ threshold)
  â†’ Sharpe: 1.2698 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=71 | percentile=4 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.7507 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5461 | AUCPR: 0.4011 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7270 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6346 | AUCPR: 0.5965 | Accuracy: 0.5750 (0.5833 w/ threshold)
  â†’ Sharpe: 1.3255 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.502232 0.536785  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     42                  0.350000        0.025000                  58                            3      0.053845                         62                          17                         38                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.311990 0.556109  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.765500             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.427619 0.454421  0.458333              0.425000  1.816107     -0.032274            1.252751   0.382353 0.213115 0.273684       0.740536             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                  0.450000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.798889 0.722398  0.758333              0.591667  1.269774     -0.035238            0.850054   0.666667 0.366667 0.473118       0.778849             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  59                           33      0.029547                         61                           7                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.546074 0.401093  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.750680             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                  0.450000        0.100000                  49                           12      0.047787                         71                           4                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.634621 0.596456  0.575000              0.583333  1.325453     -0.033050            2.096009   0.621622 0.389831 0.479166       0.727046             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5369 Â± 0.1685
AUCPR:                0.5445 Â± 0.1124
Accuracy:             0.5306 Â± 0.1428
Accuracy (threshold): 0.5000 Â± 0.1206
Sharpe Ratio:         0.7643 Â± 1.0371
Sharpe (threshold):   0.9274 Â± 0.7178
Net Sharpe:           0.2626 Â± 0.5990
Net Return:           0.0211 Â± 0.0221
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2167 Â± 0.1225
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 850 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 850                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5327                 â•‘
â•‘ Average Sharpe Ratio: 1.0406             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000610                      â•‘
â•‘ Accuracy Variance: 0.000507             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.174539
             macd    0.112696
        ema_short    0.112142
         ema_long    0.087568
            macds    0.087334
    volatility_20    0.077971
distance_to_ma200    0.077321
  close_vix_ratio    0.069650
              mfi    0.064480
   price_to_sma20    0.053557
           roc_20    0.044886
              atr    0.037856
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 50.8%                                              â”‚
â”‚    â€¢ Max Probability: 60.8%                                                  â”‚
â”‚    â€¢ Min Probability: 14.6%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 46.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 50.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5075393443306287,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01582 | Quality=0.008 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=850 score=-0.1205 net_sharpe=0.2626 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=AAPL encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=23 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 13/14 (92.9% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000517
      Std dev: 0.005055
      Min/Max: -0.017802 / 0.034694
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7053 | Sharpe: 1.58 | WinRate: 61.9%
  â†’ AUC: 0.6091 | AUCPR: 0.7519 | Accuracy: 0.5917 (0.4417 w/ threshold)
  â†’ Sharpe: 0.7430 (1.3744 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 31/120 (25.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=10 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=31/31 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/31 (48.4% win rate)
      Losing trades: 16
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000318
      Std dev: 0.006273
      Min/Max: -0.024606 / 0.046927
      Long positions: 31
  â†’ Threshold (sharpe): BUY=0.7559 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4690 | AUCPR: 0.5256 | Accuracy: 0.5333 (0.4250 w/ threshold)
  â†’ Sharpe: 1.1233 (0.6036 w/ threshold) | Max DD: -0.0700
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=53 | percentile=12 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7889 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3331 | AUCPR: 0.4619 | Accuracy: 0.3083 (0.4083 w/ threshold)
  â†’ Sharpe: 0.2008 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 43/120 (35.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=43/43 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 25/43 (58.1% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000274
      Std dev: 0.006692
      Min/Max: -0.025469 / 0.032395
      Long positions: 43
  â†’ Threshold (sharpe): BUY=0.8103 | Sharpe: 1.04 | WinRate: 56.1%
  â†’ AUC: 0.6039 | AUCPR: 0.5151 | Accuracy: 0.5917 (0.6167 w/ threshold)
  â†’ Sharpe: 1.7772 (0.4627 w/ threshold) | Max DD: -0.0536
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=71 | percentile=10 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7942 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6293 | AUCPR: 0.4230 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -1.3368 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 29/98 (29.6%)
   ğŸ” Filter rejections: threshold=51 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=29/29 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 13/29 (44.8% win rate)
      Losing trades: 16
      Avoided losses: 26 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.001241
      Std dev: 0.008627
      Min/Max: -0.031066 / 0.040791
      Long positions: 29
  â†’ Threshold (sharpe): BUY=0.8039 | Sharpe: 2.98 | WinRate: 59.2%
  â†’ AUC: 0.3440 | AUCPR: 0.5079 | Accuracy: 0.3367 (0.3980 w/ threshold)
  â†’ Sharpe: 2.6676 (2.1378 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.609139 0.751852  0.591667              0.441667  0.743034     -0.027068            1.374386   0.928571 0.164557 0.279570       0.705290             NaN           sharpe                 True           0.062040    0.047209    0.986632  5.932358       0.642857           14                     42                  0.350000        0.116667                  60                           14      0.054369                         60                          23                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.469033 0.525633  0.533333              0.425000  1.123333     -0.069979            0.603607   0.483871 0.220588 0.303030       0.755938             NaN           sharpe                 True           0.038144   -0.016856   -0.550515 22.000000       0.516129           31                     54                  0.450000        0.258333                  60                           31      0.030729                         60                          10                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.333147 0.461907  0.308333              0.408333  0.200770     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.788860             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  67                           15      0.035264                         53                          12                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.603914 0.515104  0.591667              0.616667  1.777202     -0.053619            0.462748   0.581395 0.471698 0.520833       0.810259             NaN           sharpe                 True           0.032931    0.011081    0.030692  8.739847       0.488372           43                     57                  0.475000        0.358333                  61                           43      0.031414                         59                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.629332 0.423003  0.466667              0.650000 -1.336809     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.794168             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  49                            8      0.073816                         71                          10                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.343963 0.507854  0.336735              0.397959  2.667616     -0.052201            2.137767   0.448276 0.232143 0.305882       0.803949             NaN           sharpe                 True           0.121633    0.083112    1.437997 15.408172       0.620690           29                     49                  0.500000        0.295918                  47                           29      0.034889                         51                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4981 Â± 0.1361
AUCPR:                0.5309 Â± 0.1149
Accuracy:             0.4714 Â± 0.1245
Accuracy (threshold): 0.4899 Â± 0.1126
Sharpe Ratio:         0.8625 Â± 1.3749
Sharpe (threshold):   0.6048 Â± 1.0522
Net Sharpe:           0.0358 Â± 0.9912
Net Return:           0.0137 Â± 0.0431
Turnover:             10.8714 Â± 6.8378
Trade Coverage:       0.2035 Â± 0.1166
EV Mean/Fold:         0.04341 Â± 0.01725
Coverage Ratio:       1.0000
Max Drawdown:         -0.0523 Â± 0.0161
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 851 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 851                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5432                         â•‘
â•‘ Average Accuracy: 0.5326                 â•‘
â•‘ Average Sharpe Ratio: 1.0404             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000612                      â•‘
â•‘ Accuracy Variance: 0.000511             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.131057
         ema_long    0.112953
        ema_short    0.110047
             macd    0.102509
           ADX_14    0.099295
           roc_20    0.098857
    volatility_20    0.073069
            macds    0.063531
  close_vix_ratio    0.063408
              mfi    0.053477
   price_to_sma20    0.048934
              atr    0.042864
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 56.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.7%                                                  â”‚
â”‚    â€¢ Min Probability: 35.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 27.1% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 56.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5672370741764704,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01923 | Quality=0.067 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=851 score=-0.2561 net_sharpe=0.0358 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6372 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5952 | AUCPR: 0.7432 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 25/120 (20.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=18 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=25/25 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 13/25 (52.0% win rate)
      Losing trades: 12
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.005968
      Min/Max: -0.024606 / 0.046927
      Long positions: 25
  â†’ Threshold (sharpe): BUY=0.7019 | Sharpe: -0.08 | WinRate: 50.0%
  â†’ AUC: 0.4805 | AUCPR: 0.5366 | Accuracy: 0.5250 (0.4417 w/ threshold)
  â†’ Sharpe: 1.0170 (-0.0661 w/ threshold) | Max DD: -0.0703
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=15 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7537 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3320 | AUCPR: 0.4609 | Accuracy: 0.3000 (0.4083 w/ threshold)
  â†’ Sharpe: 0.1506 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 45/120 (37.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=3 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=45/45 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 27/45 (60.0% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000172
      Std dev: 0.006789
      Min/Max: -0.025469 / 0.032395
      Long positions: 45
  â†’ Threshold (sharpe): BUY=0.7874 | Sharpe: 0.86 | WinRate: 55.0%
  â†’ AUC: 0.6174 | AUCPR: 0.5262 | Accuracy: 0.5750 (0.6333 w/ threshold)
  â†’ Sharpe: 0.8582 (0.2158 w/ threshold) | Max DD: -0.0562
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=69 | percentile=12 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7793 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6327 | AUCPR: 0.4251 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -0.9923 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 13/98 (13.3%)
   ğŸ” Filter rejections: threshold=51 | percentile=28 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.957

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 7/13 (53.8% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.000125
      Std dev: 0.005446
      Min/Max: -0.031066 / 0.030848
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.7452 | Sharpe: 3.15 | WinRate: 59.2%
  â†’ AUC: 0.3359 | AUCPR: 0.5003 | Accuracy: 0.4184 (0.4388 w/ threshold)
  â†’ Sharpe: 3.2030 (0.1343 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.595245 0.743158  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.637181             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          12                         32                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.480486 0.536575  0.525000              0.441667  1.016981     -0.070296           -0.066099   0.520000 0.191176 0.279569       0.701920             NaN           sharpe                 True           0.006542   -0.043458   -1.162567 20.000000       0.440000           25                     54                  0.450000        0.208333                  61                           25      0.030729                         59                          18                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.332031 0.460901  0.300000              0.408333  0.150613     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.753748             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  70                           15      0.035264                         50                          15                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.617432 0.526193  0.575000              0.633333  0.858171     -0.056185            0.215822   0.600000 0.509434 0.551020       0.787436             NaN           sharpe                 True           0.020600   -0.001250   -0.207405  8.739847       0.466667           45                     60                  0.500000        0.375000                  62                           45      0.031414                         58                           3                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.632702 0.425088  0.466667              0.650000 -0.992259     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779334             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  51                            8      0.073816                         69                          12                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.335884 0.500310  0.418367              0.438776  3.203028     -0.052201            0.134287   0.538461 0.125000 0.202898       0.745180             NaN           sharpe                 True           0.012293    0.002293   -0.161681  3.999731       0.461538           13                     49                  0.500000        0.132653                  47                           13      0.034804                         51                          28                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4990 Â± 0.1386
AUCPR:                0.5320 Â± 0.1115
Accuracy:             0.4878 Â± 0.1210
Accuracy (threshold): 0.5037 Â± 0.1079
Sharpe Ratio:         0.9741 Â± 1.4092
Sharpe (threshold):   0.0805 Â± 0.6391
Net Sharpe:           -0.4326 Â± 0.6731
Net Return:           -0.0085 Â± 0.0263
Turnover:             8.9662 Â± 6.0415
Trade Coverage:       0.1721 Â± 0.1092
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0528 Â± 0.0163
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 852 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 852                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5431                         â•‘
â•‘ Average Accuracy: 0.5325                 â•‘
â•‘ Average Sharpe Ratio: 1.0403             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000614                      â•‘
â•‘ Accuracy Variance: 0.000513             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.109079
        ema_short    0.105411
           roc_20    0.105175
         ema_long    0.096055
           ADX_14    0.094870
             macd    0.087697
            macds    0.075841
              mfi    0.070497
              atr    0.070124
    volatility_20    0.067965
  close_vix_ratio    0.060492
   price_to_sma20    0.056794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 58.4%                                              â”‚
â”‚    â€¢ Max Probability: 60.7%                                                  â”‚
â”‚    â€¢ Min Probability: 51.1%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 9.6% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 58.4%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5844289362430573,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02082 | Quality=0.084 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=852 score=-0.4227 net_sharpe=-0.4326 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=11 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6401 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5883 | AUCPR: 0.7350 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 30/120 (25.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=13 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=30/30 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/30 (50.0% win rate)
      Losing trades: 15
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000312
      Std dev: 0.006272
      Min/Max: -0.024606 / 0.046927
      Long positions: 30
  â†’ Threshold (sharpe): BUY=0.7136 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4673 | AUCPR: 0.5274 | Accuracy: 0.5333 (0.4333 w/ threshold)
  â†’ Sharpe: 1.1233 (0.5890 w/ threshold) | Max DD: -0.0706
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=52 | percentile=14 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/14 (28.6% win rate)
      Losing trades: 10
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000091
      Std dev: 0.007282
      Min/Max: -0.019148 / 0.072649
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7613 | Sharpe: -0.16 | WinRate: 38.9%
  â†’ AUC: 0.3361 | AUCPR: 0.4641 | Accuracy: 0.3250 (0.4167 w/ threshold)
  â†’ Sharpe: 0.2945 (0.0246 w/ threshold) | Max DD: -0.0604
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 19/120 (15.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=36 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.870

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 13/19 (68.4% win rate)
      Losing trades: 6
      Avoided losses: 61 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000463
      Std dev: 0.003778
      Min/Max: -0.018898 / 0.018679
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7924 | Sharpe: 1.25 | WinRate: 58.2%
  â†’ AUC: 0.6080 | AUCPR: 0.5366 | Accuracy: 0.6000 (0.6167 w/ threshold)
  â†’ Sharpe: 1.6216 (1.6123 w/ threshold) | Max DD: -0.0246
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=68 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7795 | Sharpe: 0.08 | WinRate: 54.2%
  â†’ AUC: 0.6277 | AUCPR: 0.4205 | Accuracy: 0.4583 (0.6500 w/ threshold)
  â†’ Sharpe: -1.2420 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 6/98 (6.1%)
   ğŸ” Filter rejections: threshold=78 | percentile=12 | technical=2 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 2/6 (33.3% win rate)
      Losing trades: 4
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: -0.000228
      Std dev: 0.004156
      Min/Max: -0.031066 / 0.016913
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.6712 | Sharpe: 2.18 | WinRate: 53.3%
  â†’ AUC: 0.3710 | AUCPR: 0.5133 | Accuracy: 0.3980 (0.4082 w/ threshold)
  â†’ Sharpe: 2.1862 (-1.1731 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.588299 0.734954  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.640123             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          11                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.467336 0.527369  0.533333              0.433333  1.123333     -0.070624            0.588973   0.500000 0.220588 0.306122       0.713580             NaN           sharpe                 True           0.037450   -0.017550   -0.565038 22.000000       0.500000           30                     54                  0.450000        0.250000                  62                           30      0.030729                         58                          13                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.336077 0.464142  0.325000              0.416667  0.294530     -0.060418            0.024552   0.285714 0.062500 0.102564       0.761327             NaN           sharpe                 True           0.010875   -0.014125   -0.425440 10.000000       0.214286           14                     54                  0.450000        0.116667                  68                           14      0.035264                         52                          14                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.607998 0.536624  0.600000              0.616667  1.621557     -0.024600            1.612290   0.684210 0.245283 0.361111       0.792363             NaN           sharpe                 True           0.055571    0.020694    0.397817 13.950647       0.526316           19                     55                  0.458333        0.158333                  61                           19      0.031361                         59                          36                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.627728 0.420536  0.458333              0.650000 -1.242025     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779538             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     48                  0.400000        0.066667                  52                            8      0.073816                         68                          12                         32                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.370961 0.513332  0.397959              0.408163  2.186201     -0.052201           -1.173088   0.333333 0.035714 0.064516       0.671200             NaN           sharpe                 True          -0.022319   -0.027134   -1.356403  1.926022       0.333333            6                     30                  0.306122        0.061224                  20                            6      0.034889                         78                          12                          2                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4997 Â± 0.1268
AUCPR:                0.5328 Â± 0.1083
Accuracy:             0.4927 Â± 0.1214
Accuracy (threshold): 0.4958 Â± 0.1080
Sharpe Ratio:         0.9319 Â± 1.2389
Sharpe (threshold):   0.2299 Â± 1.0956
Net Sharpe:           -0.4065 Â± 0.7931
Net Return:           -0.0040 Â± 0.0248
Turnover:             9.8224 Â± 7.4287
Trade Coverage:       0.1296 Â± 0.0695
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0463 Â± 0.0183
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 853 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 853                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5431                         â•‘
â•‘ Average Accuracy: 0.5325                 â•‘
â•‘ Average Sharpe Ratio: 1.0401             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000615                      â•‘
â•‘ Accuracy Variance: 0.000514             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.111655
           roc_20    0.110204
        ema_short    0.101479
         ema_long    0.095172
             macd    0.092785
           ADX_14    0.085552
  close_vix_ratio    0.084132
    volatility_20    0.068969
            macds    0.066547
              mfi    0.064813
   price_to_sma20    0.062893
              atr    0.055801
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 57.6%                                              â”‚
â”‚    â€¢ Max Probability: 68.6%                                                  â”‚
â”‚    â€¢ Min Probability: 42.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5763011028369268,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02007 | Quality=0.076 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=853 score=-0.4583 net_sharpe=-0.4065 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=AAPL encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=23 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 13/14 (92.9% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000517
      Std dev: 0.005055
      Min/Max: -0.017802 / 0.034694
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7053 | Sharpe: 1.58 | WinRate: 61.9%
  â†’ AUC: 0.6091 | AUCPR: 0.7519 | Accuracy: 0.5917 (0.4417 w/ threshold)
  â†’ Sharpe: 0.7430 (1.3744 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 31/120 (25.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=10 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=31/31 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/31 (48.4% win rate)
      Losing trades: 16
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000318
      Std dev: 0.006273
      Min/Max: -0.024606 / 0.046927
      Long positions: 31
  â†’ Threshold (sharpe): BUY=0.7559 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4690 | AUCPR: 0.5256 | Accuracy: 0.5333 (0.4250 w/ threshold)
  â†’ Sharpe: 1.1233 (0.6036 w/ threshold) | Max DD: -0.0700
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=53 | percentile=12 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7889 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3331 | AUCPR: 0.4619 | Accuracy: 0.3083 (0.4083 w/ threshold)
  â†’ Sharpe: 0.2008 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 43/120 (35.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=43/43 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 25/43 (58.1% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000274
      Std dev: 0.006692
      Min/Max: -0.025469 / 0.032395
      Long positions: 43
  â†’ Threshold (sharpe): BUY=0.8103 | Sharpe: 1.04 | WinRate: 56.1%
  â†’ AUC: 0.6039 | AUCPR: 0.5151 | Accuracy: 0.5917 (0.6167 w/ threshold)
  â†’ Sharpe: 1.7772 (0.4627 w/ threshold) | Max DD: -0.0536
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=71 | percentile=10 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7942 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6293 | AUCPR: 0.4230 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -1.3368 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 29/98 (29.6%)
   ğŸ” Filter rejections: threshold=51 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=29/29 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 13/29 (44.8% win rate)
      Losing trades: 16
      Avoided losses: 26 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.001241
      Std dev: 0.008627
      Min/Max: -0.031066 / 0.040791
      Long positions: 29
  â†’ Threshold (sharpe): BUY=0.8039 | Sharpe: 2.98 | WinRate: 59.2%
  â†’ AUC: 0.3440 | AUCPR: 0.5079 | Accuracy: 0.3367 (0.3980 w/ threshold)
  â†’ Sharpe: 2.6676 (2.1378 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.609139 0.751852  0.591667              0.441667  0.743034     -0.027068            1.374386   0.928571 0.164557 0.279570       0.705290             NaN           sharpe                 True           0.062040    0.047209    0.986632  5.932358       0.642857           14                     42                  0.350000        0.116667                  60                           14      0.054369                         60                          23                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.469033 0.525633  0.533333              0.425000  1.123333     -0.069979            0.603607   0.483871 0.220588 0.303030       0.755938             NaN           sharpe                 True           0.038144   -0.016856   -0.550515 22.000000       0.516129           31                     54                  0.450000        0.258333                  60                           31      0.030729                         60                          10                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.333147 0.461907  0.308333              0.408333  0.200770     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.788860             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  67                           15      0.035264                         53                          12                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.603914 0.515104  0.591667              0.616667  1.777202     -0.053619            0.462748   0.581395 0.471698 0.520833       0.810259             NaN           sharpe                 True           0.032931    0.011081    0.030692  8.739847       0.488372           43                     57                  0.475000        0.358333                  61                           43      0.031414                         59                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.629332 0.423003  0.466667              0.650000 -1.336809     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.794168             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  49                            8      0.073816                         71                          10                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.343963 0.507854  0.336735              0.397959  2.667616     -0.052201            2.137767   0.448276 0.232143 0.305882       0.803949             NaN           sharpe                 True           0.121633    0.083112    1.437997 15.408172       0.620690           29                     49                  0.500000        0.295918                  47                           29      0.034889                         51                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4981 Â± 0.1361
AUCPR:                0.5309 Â± 0.1149
Accuracy:             0.4714 Â± 0.1245
Accuracy (threshold): 0.4899 Â± 0.1126
Sharpe Ratio:         0.8625 Â± 1.3749
Sharpe (threshold):   0.6048 Â± 1.0522
Net Sharpe:           0.0358 Â± 0.9912
Net Return:           0.0137 Â± 0.0431
Turnover:             10.8714 Â± 6.8378
Trade Coverage:       0.2035 Â± 0.1166
EV Mean/Fold:         0.04341 Â± 0.01725
Coverage Ratio:       1.0000
Max Drawdown:         -0.0523 Â± 0.0161
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 854 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 854                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5430                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0399             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000617                      â•‘
â•‘ Accuracy Variance: 0.000518             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.131057
         ema_long    0.112953
        ema_short    0.110047
             macd    0.102509
           ADX_14    0.099295
           roc_20    0.098857
    volatility_20    0.073069
            macds    0.063531
  close_vix_ratio    0.063408
              mfi    0.053477
   price_to_sma20    0.048934
              atr    0.042864
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 56.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.7%                                                  â”‚
â”‚    â€¢ Min Probability: 35.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 27.1% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 56.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5672370741764704,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01923 | Quality=0.067 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=854 score=-0.2561 net_sharpe=0.0358 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6372 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5952 | AUCPR: 0.7432 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 25/120 (20.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=18 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=25/25 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 13/25 (52.0% win rate)
      Losing trades: 12
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.005968
      Min/Max: -0.024606 / 0.046927
      Long positions: 25
  â†’ Threshold (sharpe): BUY=0.7019 | Sharpe: -0.08 | WinRate: 50.0%
  â†’ AUC: 0.4805 | AUCPR: 0.5366 | Accuracy: 0.5250 (0.4417 w/ threshold)
  â†’ Sharpe: 1.0170 (-0.0661 w/ threshold) | Max DD: -0.0703
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=15 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7537 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3320 | AUCPR: 0.4609 | Accuracy: 0.3000 (0.4083 w/ threshold)
  â†’ Sharpe: 0.1506 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 45/120 (37.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=3 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=45/45 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 27/45 (60.0% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000172
      Std dev: 0.006789
      Min/Max: -0.025469 / 0.032395
      Long positions: 45
  â†’ Threshold (sharpe): BUY=0.7874 | Sharpe: 0.86 | WinRate: 55.0%
  â†’ AUC: 0.6174 | AUCPR: 0.5262 | Accuracy: 0.5750 (0.6333 w/ threshold)
  â†’ Sharpe: 0.8582 (0.2158 w/ threshold) | Max DD: -0.0562
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=69 | percentile=12 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7793 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6327 | AUCPR: 0.4251 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -0.9923 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 13/98 (13.3%)
   ğŸ” Filter rejections: threshold=51 | percentile=28 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.957

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 7/13 (53.8% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.000125
      Std dev: 0.005446
      Min/Max: -0.031066 / 0.030848
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.7452 | Sharpe: 3.15 | WinRate: 59.2%
  â†’ AUC: 0.3359 | AUCPR: 0.5003 | Accuracy: 0.4184 (0.4388 w/ threshold)
  â†’ Sharpe: 3.2030 (0.1343 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.595245 0.743158  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.637181             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          12                         32                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.480486 0.536575  0.525000              0.441667  1.016981     -0.070296           -0.066099   0.520000 0.191176 0.279569       0.701920             NaN           sharpe                 True           0.006542   -0.043458   -1.162567 20.000000       0.440000           25                     54                  0.450000        0.208333                  61                           25      0.030729                         59                          18                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.332031 0.460901  0.300000              0.408333  0.150613     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.753748             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  70                           15      0.035264                         50                          15                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.617432 0.526193  0.575000              0.633333  0.858171     -0.056185            0.215822   0.600000 0.509434 0.551020       0.787436             NaN           sharpe                 True           0.020600   -0.001250   -0.207405  8.739847       0.466667           45                     60                  0.500000        0.375000                  62                           45      0.031414                         58                           3                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.632702 0.425088  0.466667              0.650000 -0.992259     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779334             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  51                            8      0.073816                         69                          12                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.335884 0.500310  0.418367              0.438776  3.203028     -0.052201            0.134287   0.538461 0.125000 0.202898       0.745180             NaN           sharpe                 True           0.012293    0.002293   -0.161681  3.999731       0.461538           13                     49                  0.500000        0.132653                  47                           13      0.034804                         51                          28                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4990 Â± 0.1386
AUCPR:                0.5320 Â± 0.1115
Accuracy:             0.4878 Â± 0.1210
Accuracy (threshold): 0.5037 Â± 0.1079
Sharpe Ratio:         0.9741 Â± 1.4092
Sharpe (threshold):   0.0805 Â± 0.6391
Net Sharpe:           -0.4326 Â± 0.6731
Net Return:           -0.0085 Â± 0.0263
Turnover:             8.9662 Â± 6.0415
Trade Coverage:       0.1721 Â± 0.1092
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0528 Â± 0.0163
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 855 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 855                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5430                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0399             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000618                      â•‘
â•‘ Accuracy Variance: 0.000520             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.109079
        ema_short    0.105411
           roc_20    0.105175
         ema_long    0.096055
           ADX_14    0.094870
             macd    0.087697
            macds    0.075841
              mfi    0.070497
              atr    0.070124
    volatility_20    0.067965
  close_vix_ratio    0.060492
   price_to_sma20    0.056794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 58.4%                                              â”‚
â”‚    â€¢ Max Probability: 60.7%                                                  â”‚
â”‚    â€¢ Min Probability: 51.1%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 9.6% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 58.4%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5844289362430573,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02082 | Quality=0.084 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=855 score=-0.4227 net_sharpe=-0.4326 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=11 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6401 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5883 | AUCPR: 0.7350 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 30/120 (25.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=13 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=30/30 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/30 (50.0% win rate)
      Losing trades: 15
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000312
      Std dev: 0.006272
      Min/Max: -0.024606 / 0.046927
      Long positions: 30
  â†’ Threshold (sharpe): BUY=0.7136 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4673 | AUCPR: 0.5274 | Accuracy: 0.5333 (0.4333 w/ threshold)
  â†’ Sharpe: 1.1233 (0.5890 w/ threshold) | Max DD: -0.0706
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=52 | percentile=14 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/14 (28.6% win rate)
      Losing trades: 10
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000091
      Std dev: 0.007282
      Min/Max: -0.019148 / 0.072649
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7613 | Sharpe: -0.16 | WinRate: 38.9%
  â†’ AUC: 0.3361 | AUCPR: 0.4641 | Accuracy: 0.3250 (0.4167 w/ threshold)
  â†’ Sharpe: 0.2945 (0.0246 w/ threshold) | Max DD: -0.0604
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 19/120 (15.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=36 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.870

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 13/19 (68.4% win rate)
      Losing trades: 6
      Avoided losses: 61 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000463
      Std dev: 0.003778
      Min/Max: -0.018898 / 0.018679
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7924 | Sharpe: 1.25 | WinRate: 58.2%
  â†’ AUC: 0.6080 | AUCPR: 0.5366 | Accuracy: 0.6000 (0.6167 w/ threshold)
  â†’ Sharpe: 1.6216 (1.6123 w/ threshold) | Max DD: -0.0246
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=68 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7795 | Sharpe: 0.08 | WinRate: 54.2%
  â†’ AUC: 0.6277 | AUCPR: 0.4205 | Accuracy: 0.4583 (0.6500 w/ threshold)
  â†’ Sharpe: -1.2420 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 6/98 (6.1%)
   ğŸ” Filter rejections: threshold=78 | percentile=12 | technical=2 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 2/6 (33.3% win rate)
      Losing trades: 4
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: -0.000228
      Std dev: 0.004156
      Min/Max: -0.031066 / 0.016913
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.6712 | Sharpe: 2.18 | WinRate: 53.3%
  â†’ AUC: 0.3710 | AUCPR: 0.5133 | Accuracy: 0.3980 (0.4082 w/ threshold)
  â†’ Sharpe: 2.1862 (-1.1731 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.588299 0.734954  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.640123             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          11                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.467336 0.527369  0.533333              0.433333  1.123333     -0.070624            0.588973   0.500000 0.220588 0.306122       0.713580             NaN           sharpe                 True           0.037450   -0.017550   -0.565038 22.000000       0.500000           30                     54                  0.450000        0.250000                  62                           30      0.030729                         58                          13                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.336077 0.464142  0.325000              0.416667  0.294530     -0.060418            0.024552   0.285714 0.062500 0.102564       0.761327             NaN           sharpe                 True           0.010875   -0.014125   -0.425440 10.000000       0.214286           14                     54                  0.450000        0.116667                  68                           14      0.035264                         52                          14                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.607998 0.536624  0.600000              0.616667  1.621557     -0.024600            1.612290   0.684210 0.245283 0.361111       0.792363             NaN           sharpe                 True           0.055571    0.020694    0.397817 13.950647       0.526316           19                     55                  0.458333        0.158333                  61                           19      0.031361                         59                          36                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.627728 0.420536  0.458333              0.650000 -1.242025     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779538             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     48                  0.400000        0.066667                  52                            8      0.073816                         68                          12                         32                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.370961 0.513332  0.397959              0.408163  2.186201     -0.052201           -1.173088   0.333333 0.035714 0.064516       0.671200             NaN           sharpe                 True          -0.022319   -0.027134   -1.356403  1.926022       0.333333            6                     30                  0.306122        0.061224                  20                            6      0.034889                         78                          12                          2                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4997 Â± 0.1268
AUCPR:                0.5328 Â± 0.1083
Accuracy:             0.4927 Â± 0.1214
Accuracy (threshold): 0.4958 Â± 0.1080
Sharpe Ratio:         0.9319 Â± 1.2389
Sharpe (threshold):   0.2299 Â± 1.0956
Net Sharpe:           -0.4065 Â± 0.7931
Net Return:           -0.0040 Â± 0.0248
Turnover:             9.8224 Â± 7.4287
Trade Coverage:       0.1296 Â± 0.0695
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0463 Â± 0.0183
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 856 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 856                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5323                 â•‘
â•‘ Average Sharpe Ratio: 1.0397             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000620                      â•‘
â•‘ Accuracy Variance: 0.000521             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.111655
           roc_20    0.110204
        ema_short    0.101479
         ema_long    0.095172
             macd    0.092785
           ADX_14    0.085552
  close_vix_ratio    0.084132
    volatility_20    0.068969
            macds    0.066547
              mfi    0.064813
   price_to_sma20    0.062893
              atr    0.055801
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 57.6%                                              â”‚
â”‚    â€¢ Max Probability: 68.6%                                                  â”‚
â”‚    â€¢ Min Probability: 42.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5763011028369268,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02007 | Quality=0.076 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=856 score=-0.4583 net_sharpe=-0.4065 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=NVDA encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=69 | percentile=28 | technical=23 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 6/120 (5.0%)
   ğŸ” Filter rejections: threshold=75 | percentile=26 | technical=13 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.717

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 3/6 (50.0% win rate)
      Losing trades: 3
      Avoided losses: 58 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.003485
      Min/Max: -0.028309 / 0.016306
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.7355 | Sharpe: 1.43 | WinRate: 50.0%
  â†’ AUC: 0.5392 | AUCPR: 0.5197 | Accuracy: 0.5333 (0.5083 w/ threshold)
  â†’ Sharpe: 2.0269 (-0.1103 w/ threshold) | Max DD: -0.0304
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 9/120 (7.5%)
   ğŸ” Filter rejections: threshold=99 | percentile=8 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=9/9 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/9 (44.4% win rate)
      Losing trades: 5
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000051
      Std dev: 0.002871
      Min/Max: -0.025012 / 0.009435
      Long positions: 9
  â†’ Threshold (sharpe): BUY=0.7651 | Sharpe: 0.78 | WinRate: 63.2%
  â†’ AUC: 0.3506 | AUCPR: 0.5731 | Accuracy: 0.3667 (0.3417 w/ threshold)
  â†’ Sharpe: 0.9015 (-0.7190 w/ threshold) | Max DD: -0.0382
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 42/120 (35.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=1 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=42/42 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/42 (59.5% win rate)
      Losing trades: 17
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000018
      Std dev: 0.012737
      Min/Max: -0.100464 / 0.026370
      Long positions: 42
  â†’ Threshold (sharpe): BUY=0.8143 | Sharpe: -0.07 | WinRate: 50.8%
  â†’ AUC: 0.4638 | AUCPR: 0.5265 | Accuracy: 0.5083 (0.5083 w/ threshold)
  â†’ Sharpe: -0.6822 (-0.0765 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7822 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5487 | AUCPR: 0.4800 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=51 | percentile=7 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.8060 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8234 | AUCPR: 0.6845 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.539178 0.519720  0.533333              0.508333  2.026912     -0.030436           -0.110307   0.500000 0.050847 0.092308       0.735500             NaN           sharpe                 True           0.006618   -0.014893   -0.919028  8.604178       0.500000            6                     14                  0.116667        0.050000                  45                            6      0.082294                         75                          26                         13                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.350580 0.573069  0.366667              0.341667  0.901521     -0.038160           -0.719037   0.444444 0.051282 0.091954       0.765075             NaN           sharpe                 True          -0.006081   -0.009831   -0.894429  1.500000       0.555556            9                     19                  0.158333        0.075000                  21                            9      0.092605                         99                           8                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.463813 0.526491  0.508333              0.508333 -0.682180     -0.123761           -0.076502   0.595238 0.373134 0.458715       0.814299             NaN           sharpe                 True           0.002158   -0.009683   -0.199610  4.736610       0.547619           42                     61                  0.508333        0.350000                  62                           42      0.094759                         58                           1                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.548665 0.480026  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.782241             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.823359 0.684534  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.805957             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  42                           20      0.050373                         51                           7                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5451 Â± 0.1746
AUCPR:                0.5568 Â± 0.0787
Accuracy:             0.5360 Â± 0.1171
Accuracy (threshold): 0.5196 Â± 0.1386
Sharpe Ratio:         1.5078 Â± 1.6723
Sharpe (threshold):   0.3348 Â± 1.2154
Net Sharpe:           -0.0575 Â± 1.2035
Net Return:           0.0208 Â± 0.0658
Turnover:             6.1206 Â± 3.3366
Trade Coverage:       0.1730 Â± 0.1202
EV Mean/Fold:         0.08015 Â± 0.01775
Coverage Ratio:       0.8333
Max Drawdown:         -0.0548 Â± 0.0391
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 857 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 857                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5323                 â•‘
â•‘ Average Sharpe Ratio: 1.0403             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000520             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           roc_20    0.132168
  close_vix_ratio    0.130789
              atr    0.122061
        ema_short    0.119977
         ema_long    0.094073
             macd    0.078267
    volatility_20    0.068413
distance_to_ma200    0.064838
            macds    0.059868
           ADX_14    0.051073
   price_to_sma20    0.039679
              mfi    0.038794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 55.5%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 50.9%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 8.3% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 55.5%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5548900127410888,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02635 | Quality=0.055 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=857 score=-0.0088 net_sharpe=-0.0575 coverage=0.8333 valid_folds_ratio=0.833
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=61 | percentile=9 | technical=38 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-12 to 2023-05-23
      Winning trades: 7/12 (58.3% win rate)
      Losing trades: 5
      Avoided losses: 17 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000005
      Std dev: 0.007609
      Min/Max: -0.040851 / 0.040563
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6399 | Sharpe: 1.94 | WinRate: 60.0%
  â†’ AUC: 0.2720 | AUCPR: 0.7266 | Accuracy: 0.4833 (0.2000 w/ threshold)
  â†’ Sharpe: 2.6448 (-0.1755 w/ threshold) | Max DD: -0.0875
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7134 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5568 | AUCPR: 0.5444 | Accuracy: 0.5167 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3222 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 10/120 (8.3%)
   ğŸ” Filter rejections: threshold=89 | percentile=17 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=10/10 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/10 (40.0% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000131
      Std dev: 0.003001
      Min/Max: -0.025012 / 0.009435
      Long positions: 10
  â†’ Threshold (sharpe): BUY=0.6547 | Sharpe: 1.88 | WinRate: 60.5%
  â†’ AUC: 0.3690 | AUCPR: 0.5802 | Accuracy: 0.4000 (0.3333 w/ threshold)
  â†’ Sharpe: 1.4597 (-1.1140 w/ threshold) | Max DD: -0.0457
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=54 | percentile=22 | technical=10 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 24/34 (70.6% win rate)
      Losing trades: 10
      Avoided losses: 43 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000174
      Std dev: 0.012208
      Min/Max: -0.100464 / 0.026370
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7426 | Sharpe: -0.21 | WinRate: 51.7%
  â†’ AUC: 0.4863 | AUCPR: 0.5483 | Accuracy: 0.5000 (0.5583 w/ threshold)
  â†’ Sharpe: -0.5613 (0.1227 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=67 | percentile=9 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7340 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5435 | AUCPR: 0.4786 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 19/93 (20.4%)
   ğŸ” Filter rejections: threshold=53 | percentile=7 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 15/19 (78.9% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001710
      Std dev: 0.010930
      Min/Max: -0.043775 / 0.049772
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7746 | Sharpe: 2.90 | WinRate: 66.7%
  â†’ AUC: 0.8301 | AUCPR: 0.6957 | Accuracy: 0.7097 (0.7204 w/ threshold)
  â†’ Sharpe: 4.0158 (2.3684 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.272032 0.726635  0.483333              0.200000  2.644838     -0.087497           -0.175526   0.583333 0.071429 0.127273       0.639877             NaN           sharpe                 True          -0.000572   -0.020572   -0.528954  8.000000       0.500000           12                     60                  0.500000        0.100000                  59                           12      0.089164                         61                           9                         38                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.556821 0.544368  0.516667              0.566667  1.322164     -0.039412            2.759823   0.629630 0.288136 0.395348       0.713420             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  55                           27      0.085217                         65                          10                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.369048 0.580182  0.400000              0.333333  1.459727     -0.045655           -1.113972   0.400000 0.051282 0.090909       0.654713             NaN           sharpe                 True          -0.015747   -0.018247   -1.226652  1.000000       0.500000           10                     38                  0.316667        0.083333                  31                           10      0.092605                         89                          17                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.486342 0.548275  0.500000              0.558333 -0.561283     -0.123761            0.122704   0.705882 0.358209 0.475247       0.742564             NaN           sharpe                 True           0.020847    0.009006   -0.005618  4.736610       0.558824           34                     60                  0.500000        0.283333                  66                           34      0.094759                         54                          22                         10                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543521 0.478648  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.733957             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  53                           21      0.080742                         67                           9                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.830116 0.695744  0.709677              0.720430  4.015823     -0.047620            2.368384   0.789474 0.405405 0.535714       0.774572             NaN           sharpe                 True           0.159040    0.134064    1.948290  9.990380       0.631579           19                     33                  0.354839        0.204301                  40                           19      0.050373                         53                           7                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5096 Â± 0.1912
AUCPR:                0.5956 Â± 0.0959
Accuracy:             0.5322 Â± 0.1051
Accuracy (threshold): 0.4812 Â± 0.1856
Sharpe Ratio:         1.7118 Â± 1.5274
Sharpe (threshold):   0.6850 Â± 1.5310
Net Sharpe:           0.3717 Â± 1.4321
Net Return:           0.0446 Â± 0.0818
Turnover:             6.7429 Â± 3.6836
Trade Coverage:       0.1785 Â± 0.0762
EV Mean/Fold:         0.08214 Â± 0.01636
Coverage Ratio:       1.0000
Max Drawdown:         -0.0630 Â± 0.0353
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 858 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 858                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5323                 â•‘
â•‘ Average Sharpe Ratio: 1.0411             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000620                      â•‘
â•‘ Accuracy Variance: 0.000520             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.125517
              atr    0.123712
        ema_short    0.117557
           roc_20    0.100196
         ema_long    0.083682
distance_to_ma200    0.080844
             macd    0.080316
    volatility_20    0.071201
            macds    0.056945
   price_to_sma20    0.055936
           ADX_14    0.053249
              mfi    0.050846
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 54.8%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 45.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 13.4% (Moderate consensus)                         â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 54.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5477197964986166,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02541 | Quality=0.048 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=858 score=0.1949 net_sharpe=0.3717 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=19 | technical=20 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=70 | percentile=5 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5589 | AUCPR: 0.5454 | Accuracy: 0.5083 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3009 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 17/120 (14.2%)
   ğŸ” Filter rejections: threshold=80 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=17/17 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 6/17 (35.3% win rate)
      Losing trades: 11
      Avoided losses: 31 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000139
      Std dev: 0.003294
      Min/Max: -0.025012 / 0.010274
      Long positions: 17
  â†’ Threshold (sharpe): BUY=0.7673 | Sharpe: 1.71 | WinRate: 59.5%
  â†’ AUC: 0.4042 | AUCPR: 0.5900 | Accuracy: 0.4583 (0.3083 w/ threshold)
  â†’ Sharpe: 2.8896 (-1.0522 w/ threshold) | Max DD: -0.0541
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=53 | percentile=18 | technical=11 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/38 (65.8% win rate)
      Losing trades: 13
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.012507
      Min/Max: -0.100464 / 0.026370
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.7963 | Sharpe: -0.15 | WinRate: 49.0%
  â†’ AUC: 0.4880 | AUCPR: 0.5402 | Accuracy: 0.5167 (0.5417 w/ threshold)
  â†’ Sharpe: -0.2802 (0.5498 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7702 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5455 | AUCPR: 0.4794 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.7981 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8224 | AUCPR: 0.6842 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.558905 0.545389  0.508333              0.566667  1.300856     -0.039412            2.759823   0.629630 0.288136 0.395348       0.765500             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  50                           27      0.085217                         70                           5                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.404151 0.589963  0.458333              0.308333  2.889561     -0.054112           -1.052159   0.352941 0.076923 0.126315       0.767345             NaN           sharpe                 True          -0.016679   -0.021679   -1.253270  2.000000       0.470588           17                     42                  0.350000        0.141667                  40                           17      0.092605                         80                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.488032 0.540228  0.516667              0.541667 -0.280160     -0.123761            0.549771   0.657895 0.373134 0.476190       0.796274             NaN           sharpe                 True           0.061503    0.052622    0.455786  3.552457       0.578947           38                     49                  0.408333        0.316667                  67                           38      0.094759                         53                          18                         11                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545467 0.479388  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.770163             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.822394 0.684166  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.798106             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  43                           20      0.050373                         50                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5638 Â± 0.1569
AUCPR:                0.5678 Â± 0.0760
Accuracy:             0.5510 Â± 0.0887
Accuracy (threshold): 0.5312 Â± 0.1513
Sharpe Ratio:         1.8406 Â± 1.6084
Sharpe (threshold):   0.9675 Â± 1.6032
Net Sharpe:           0.6513 Â± 1.5169
Net Return:           0.0664 Â± 0.0819
Turnover:             6.4546 Â± 3.9217
Trade Coverage:       0.2147 Â± 0.0660
EV Mean/Fold:         0.08074 Â± 0.01789
Coverage Ratio:       0.8333
Max Drawdown:         -0.0598 Â± 0.0366
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 859 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 859                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0420             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000519             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.136077
        ema_short    0.122475
           roc_20    0.119206
              atr    0.110158
             macd    0.087276
         ema_long    0.080214
distance_to_ma200    0.076619
    volatility_20    0.069650
            macds    0.062816
           ADX_14    0.056173
              mfi    0.043912
   price_to_sma20    0.035424
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 57.0%                                              â”‚
â”‚    â€¢ Max Probability: 59.3%                                                  â”‚
â”‚    â€¢ Min Probability: 51.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 7.9% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.0%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5695225238800049,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02825 | Quality=0.070 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=859 score=0.4026 net_sharpe=0.6513 coverage=0.8333 valid_folds_ratio=0.833
  -> ticker=NVDA encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=69 | percentile=28 | technical=23 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 6/120 (5.0%)
   ğŸ” Filter rejections: threshold=75 | percentile=26 | technical=13 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.717

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 3/6 (50.0% win rate)
      Losing trades: 3
      Avoided losses: 58 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.003485
      Min/Max: -0.028309 / 0.016306
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.7355 | Sharpe: 1.43 | WinRate: 50.0%
  â†’ AUC: 0.5392 | AUCPR: 0.5197 | Accuracy: 0.5333 (0.5083 w/ threshold)
  â†’ Sharpe: 2.0269 (-0.1103 w/ threshold) | Max DD: -0.0304
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 9/120 (7.5%)
   ğŸ” Filter rejections: threshold=99 | percentile=8 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=9/9 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/9 (44.4% win rate)
      Losing trades: 5
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000051
      Std dev: 0.002871
      Min/Max: -0.025012 / 0.009435
      Long positions: 9
  â†’ Threshold (sharpe): BUY=0.7651 | Sharpe: 0.78 | WinRate: 63.2%
  â†’ AUC: 0.3506 | AUCPR: 0.5731 | Accuracy: 0.3667 (0.3417 w/ threshold)
  â†’ Sharpe: 0.9015 (-0.7190 w/ threshold) | Max DD: -0.0382
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 42/120 (35.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=1 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=42/42 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/42 (59.5% win rate)
      Losing trades: 17
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000018
      Std dev: 0.012737
      Min/Max: -0.100464 / 0.026370
      Long positions: 42
  â†’ Threshold (sharpe): BUY=0.8143 | Sharpe: -0.07 | WinRate: 50.8%
  â†’ AUC: 0.4638 | AUCPR: 0.5265 | Accuracy: 0.5083 (0.5083 w/ threshold)
  â†’ Sharpe: -0.6822 (-0.0765 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7822 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5487 | AUCPR: 0.4800 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=51 | percentile=7 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.8060 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8234 | AUCPR: 0.6845 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.539178 0.519720  0.533333              0.508333  2.026912     -0.030436           -0.110307   0.500000 0.050847 0.092308       0.735500             NaN           sharpe                 True           0.006618   -0.014893   -0.919028  8.604178       0.500000            6                     14                  0.116667        0.050000                  45                            6      0.082294                         75                          26                         13                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.350580 0.573069  0.366667              0.341667  0.901521     -0.038160           -0.719037   0.444444 0.051282 0.091954       0.765075             NaN           sharpe                 True          -0.006081   -0.009831   -0.894429  1.500000       0.555556            9                     19                  0.158333        0.075000                  21                            9      0.092605                         99                           8                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.463813 0.526491  0.508333              0.508333 -0.682180     -0.123761           -0.076502   0.595238 0.373134 0.458715       0.814299             NaN           sharpe                 True           0.002158   -0.009683   -0.199610  4.736610       0.547619           42                     61                  0.508333        0.350000                  62                           42      0.094759                         58                           1                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.548665 0.480026  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.782241             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.823359 0.684534  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.805957             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  42                           20      0.050373                         51                           7                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5451 Â± 0.1746
AUCPR:                0.5568 Â± 0.0787
Accuracy:             0.5360 Â± 0.1171
Accuracy (threshold): 0.5196 Â± 0.1386
Sharpe Ratio:         1.5078 Â± 1.6723
Sharpe (threshold):   0.3348 Â± 1.2154
Net Sharpe:           -0.0575 Â± 1.2035
Net Return:           0.0208 Â± 0.0658
Turnover:             6.1206 Â± 3.3366
Trade Coverage:       0.1730 Â± 0.1202
EV Mean/Fold:         0.08015 Â± 0.01775
Coverage Ratio:       0.8333
Max Drawdown:         -0.0548 Â± 0.0391
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 860 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 860                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0425             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000519             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           roc_20    0.132168
  close_vix_ratio    0.130789
              atr    0.122061
        ema_short    0.119977
         ema_long    0.094073
             macd    0.078267
    volatility_20    0.068413
distance_to_ma200    0.064838
            macds    0.059868
           ADX_14    0.051073
   price_to_sma20    0.039679
              mfi    0.038794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 55.5%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 50.9%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 8.3% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 55.5%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5548900127410888,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02635 | Quality=0.055 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=860 score=-0.0088 net_sharpe=-0.0575 coverage=0.8333 valid_folds_ratio=0.833
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=61 | percentile=9 | technical=38 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-12 to 2023-05-23
      Winning trades: 7/12 (58.3% win rate)
      Losing trades: 5
      Avoided losses: 17 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000005
      Std dev: 0.007609
      Min/Max: -0.040851 / 0.040563
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6399 | Sharpe: 1.94 | WinRate: 60.0%
  â†’ AUC: 0.2720 | AUCPR: 0.7266 | Accuracy: 0.4833 (0.2000 w/ threshold)
  â†’ Sharpe: 2.6448 (-0.1755 w/ threshold) | Max DD: -0.0875
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7134 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5568 | AUCPR: 0.5444 | Accuracy: 0.5167 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3222 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 10/120 (8.3%)
   ğŸ” Filter rejections: threshold=89 | percentile=17 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=10/10 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/10 (40.0% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000131
      Std dev: 0.003001
      Min/Max: -0.025012 / 0.009435
      Long positions: 10
  â†’ Threshold (sharpe): BUY=0.6547 | Sharpe: 1.88 | WinRate: 60.5%
  â†’ AUC: 0.3690 | AUCPR: 0.5802 | Accuracy: 0.4000 (0.3333 w/ threshold)
  â†’ Sharpe: 1.4597 (-1.1140 w/ threshold) | Max DD: -0.0457
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=54 | percentile=22 | technical=10 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 24/34 (70.6% win rate)
      Losing trades: 10
      Avoided losses: 43 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000174
      Std dev: 0.012208
      Min/Max: -0.100464 / 0.026370
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7426 | Sharpe: -0.21 | WinRate: 51.7%
  â†’ AUC: 0.4863 | AUCPR: 0.5483 | Accuracy: 0.5000 (0.5583 w/ threshold)
  â†’ Sharpe: -0.5613 (0.1227 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=67 | percentile=9 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7340 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5435 | AUCPR: 0.4786 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 19/93 (20.4%)
   ğŸ” Filter rejections: threshold=53 | percentile=7 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 15/19 (78.9% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001710
      Std dev: 0.010930
      Min/Max: -0.043775 / 0.049772
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7746 | Sharpe: 2.90 | WinRate: 66.7%
  â†’ AUC: 0.8301 | AUCPR: 0.6957 | Accuracy: 0.7097 (0.7204 w/ threshold)
  â†’ Sharpe: 4.0158 (2.3684 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.272032 0.726635  0.483333              0.200000  2.644838     -0.087497           -0.175526   0.583333 0.071429 0.127273       0.639877             NaN           sharpe                 True          -0.000572   -0.020572   -0.528954  8.000000       0.500000           12                     60                  0.500000        0.100000                  59                           12      0.089164                         61                           9                         38                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.556821 0.544368  0.516667              0.566667  1.322164     -0.039412            2.759823   0.629630 0.288136 0.395348       0.713420             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  55                           27      0.085217                         65                          10                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.369048 0.580182  0.400000              0.333333  1.459727     -0.045655           -1.113972   0.400000 0.051282 0.090909       0.654713             NaN           sharpe                 True          -0.015747   -0.018247   -1.226652  1.000000       0.500000           10                     38                  0.316667        0.083333                  31                           10      0.092605                         89                          17                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.486342 0.548275  0.500000              0.558333 -0.561283     -0.123761            0.122704   0.705882 0.358209 0.475247       0.742564             NaN           sharpe                 True           0.020847    0.009006   -0.005618  4.736610       0.558824           34                     60                  0.500000        0.283333                  66                           34      0.094759                         54                          22                         10                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543521 0.478648  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.733957             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  53                           21      0.080742                         67                           9                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.830116 0.695744  0.709677              0.720430  4.015823     -0.047620            2.368384   0.789474 0.405405 0.535714       0.774572             NaN           sharpe                 True           0.159040    0.134064    1.948290  9.990380       0.631579           19                     33                  0.354839        0.204301                  40                           19      0.050373                         53                           7                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5096 Â± 0.1912
AUCPR:                0.5956 Â± 0.0959
Accuracy:             0.5322 Â± 0.1051
Accuracy (threshold): 0.4812 Â± 0.1856
Sharpe Ratio:         1.7118 Â± 1.5274
Sharpe (threshold):   0.6850 Â± 1.5310
Net Sharpe:           0.3717 Â± 1.4321
Net Return:           0.0446 Â± 0.0818
Turnover:             6.7429 Â± 3.6836
Trade Coverage:       0.1785 Â± 0.0762
EV Mean/Fold:         0.08214 Â± 0.01636
Coverage Ratio:       1.0000
Max Drawdown:         -0.0630 Â± 0.0353
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 861 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 861                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0433             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000518             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.125517
              atr    0.123712
        ema_short    0.117557
           roc_20    0.100196
         ema_long    0.083682
distance_to_ma200    0.080844
             macd    0.080316
    volatility_20    0.071201
            macds    0.056945
   price_to_sma20    0.055936
           ADX_14    0.053249
              mfi    0.050846
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 54.8%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 45.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 13.4% (Moderate consensus)                         â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 54.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5477197964986166,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02541 | Quality=0.048 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=861 score=0.1949 net_sharpe=0.3717 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=19 | technical=20 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=70 | percentile=5 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5589 | AUCPR: 0.5454 | Accuracy: 0.5083 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3009 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 17/120 (14.2%)
   ğŸ” Filter rejections: threshold=80 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=17/17 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 6/17 (35.3% win rate)
      Losing trades: 11
      Avoided losses: 31 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000139
      Std dev: 0.003294
      Min/Max: -0.025012 / 0.010274
      Long positions: 17
  â†’ Threshold (sharpe): BUY=0.7673 | Sharpe: 1.71 | WinRate: 59.5%
  â†’ AUC: 0.4042 | AUCPR: 0.5900 | Accuracy: 0.4583 (0.3083 w/ threshold)
  â†’ Sharpe: 2.8896 (-1.0522 w/ threshold) | Max DD: -0.0541
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=53 | percentile=18 | technical=11 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/38 (65.8% win rate)
      Losing trades: 13
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.012507
      Min/Max: -0.100464 / 0.026370
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.7963 | Sharpe: -0.15 | WinRate: 49.0%
  â†’ AUC: 0.4880 | AUCPR: 0.5402 | Accuracy: 0.5167 (0.5417 w/ threshold)
  â†’ Sharpe: -0.2802 (0.5498 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7702 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5455 | AUCPR: 0.4794 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.7981 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8224 | AUCPR: 0.6842 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.558905 0.545389  0.508333              0.566667  1.300856     -0.039412            2.759823   0.629630 0.288136 0.395348       0.765500             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  50                           27      0.085217                         70                           5                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.404151 0.589963  0.458333              0.308333  2.889561     -0.054112           -1.052159   0.352941 0.076923 0.126315       0.767345             NaN           sharpe                 True          -0.016679   -0.021679   -1.253270  2.000000       0.470588           17                     42                  0.350000        0.141667                  40                           17      0.092605                         80                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.488032 0.540228  0.516667              0.541667 -0.280160     -0.123761            0.549771   0.657895 0.373134 0.476190       0.796274             NaN           sharpe                 True           0.061503    0.052622    0.455786  3.552457       0.578947           38                     49                  0.408333        0.316667                  67                           38      0.094759                         53                          18                         11                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545467 0.479388  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.770163             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.822394 0.684166  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.798106             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  43                           20      0.050373                         50                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5638 Â± 0.1569
AUCPR:                0.5678 Â± 0.0760
Accuracy:             0.5510 Â± 0.0887
Accuracy (threshold): 0.5312 Â± 0.1513
Sharpe Ratio:         1.8406 Â± 1.6084
Sharpe (threshold):   0.9675 Â± 1.6032
Net Sharpe:           0.6513 Â± 1.5169
Net Return:           0.0664 Â± 0.0819
Turnover:             6.4546 Â± 3.9217
Trade Coverage:       0.2147 Â± 0.0660
EV Mean/Fold:         0.08074 Â± 0.01789
Coverage Ratio:       0.8333
Max Drawdown:         -0.0598 Â± 0.0366
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 862 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 862                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0442             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000518             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.136077
        ema_short    0.122475
           roc_20    0.119206
              atr    0.110158
             macd    0.087276
         ema_long    0.080214
distance_to_ma200    0.076619
    volatility_20    0.069650
            macds    0.062816
           ADX_14    0.056173
              mfi    0.043912
   price_to_sma20    0.035424
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 57.0%                                              â”‚
â”‚    â€¢ Max Probability: 59.3%                                                  â”‚
â”‚    â€¢ Min Probability: 51.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 7.9% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.0%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5695225238800049,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02825 | Quality=0.070 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=862 score=0.4026 net_sharpe=0.6513 coverage=0.8333 valid_folds_ratio=0.833

### candidate=c4_conservative_mid ###
  -> ticker=MSFT encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=12 | technical=45 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: 0.92 | WinRate: 52.1%
  â†’ AUC: 0.5130 | AUCPR: 0.5354 | Accuracy: 0.5583 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7262 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 16/120 (13.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=33 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=16/16 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 9/16 (56.2% win rate)
      Losing trades: 7
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.008005
      Min/Max: -0.021498 / 0.072435
      Long positions: 16
  â†’ Threshold (sharpe): BUY=0.7372 | Sharpe: 2.12 | WinRate: 57.4%
  â†’ AUC: 0.3428 | AUCPR: 0.5863 | Accuracy: 0.4083 (0.3750 w/ threshold)
  â†’ Sharpe: 1.7305 (0.8606 w/ threshold) | Max DD: -0.0282
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7198 | Sharpe: 1.36 | WinRate: 53.7%
  â†’ AUC: 0.4293 | AUCPR: 0.4550 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.6772 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 7/120 (5.8%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=9 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=7/7 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.331

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 6/7 (85.7% win rate)
      Losing trades: 1
      Avoided losses: 59 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000080
      Std dev: 0.000537
      Min/Max: -0.000395 / 0.004608
      Long positions: 7
  â†’ Threshold (sharpe): BUY=0.6144 | Sharpe: 1.52 | WinRate: 63.0%
  â†’ AUC: 0.8036 | AUCPR: 0.7560 | Accuracy: 0.7000 (0.5417 w/ threshold)
  â†’ Sharpe: 1.6455 (0.0127 w/ threshold) | Max DD: -0.0008
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6640 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5452 | AUCPR: 0.4005 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6901 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6260 | AUCPR: 0.5882 | Accuracy: 0.5750 (0.5750 w/ threshold)
  â†’ Sharpe: 1.3255 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.512974 0.535434  0.558333              0.491667  0.726199     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     48                      0.40        0.025000                  60                            3      0.053845                         60                          12                         45                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.342797 0.586274  0.408333              0.375000  1.730534     -0.028165            0.860648   0.562500 0.116883 0.193548       0.737174             NaN           sharpe                 True           0.061603    0.026603    0.284395 14.000000       0.500000           16                     54                      0.45        0.133333                  55                           16      0.037757                         65                          33                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.455041  0.466667              0.425000  1.677212     -0.032274            1.252751   0.382353 0.213115 0.273684       0.719825             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                      0.45        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.803611 0.755997  0.700000              0.541667  1.645520     -0.000773            0.012710   0.857143 0.100000 0.179104       0.614376             NaN           sharpe                 True           0.009575    0.003722   -1.672345  2.341442       0.571429            7                     54                      0.45        0.058333                  39                            7      0.017923                         81                          23                          9                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545185 0.400497  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.664038             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                      0.45        0.100000                  55                           12      0.047787                         65                          10                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.626007 0.588161  0.575000              0.575000  1.325453     -0.033050            2.139146   0.605263 0.389831 0.474226       0.690111             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                      0.50        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5433 Â± 0.1605
AUCPR:                0.5536 Â± 0.1239
Accuracy:             0.5375 Â± 0.1004
Accuracy (threshold): 0.5028 Â± 0.0899
Sharpe Ratio:         0.9925 Â± 1.1147
Sharpe (threshold):   0.8395 Â± 0.8193
Net Sharpe:           0.0336 Â± 1.0184
Net Return:           0.0227 Â± 0.0231
Turnover:             9.1080 Â± 5.6719
Trade Coverage:       0.1528 Â± 0.1203
EV Mean/Fold:         0.03573 Â± 0.01356
Coverage Ratio:       1.0000
Max Drawdown:         -0.0246 Â± 0.0146
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 863 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 863                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0442             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000618                      â•‘
â•‘ Accuracy Variance: 0.000517             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.170502
             macd    0.128160
         ema_long    0.101580
        ema_short    0.093348
distance_to_ma200    0.092510
  close_vix_ratio    0.078448
            macds    0.074936
              mfi    0.063843
    volatility_20    0.061514
   price_to_sma20    0.051008
              atr    0.043066
           roc_20    0.041085
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 51.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.5%                                                  â”‚
â”‚    â€¢ Min Probability: 36.0%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.5% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 51.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5174471586942673,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01686 | Quality=0.017 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=863 score=-0.1448 net_sharpe=0.0336 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=18 | technical=41 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6797 | Sharpe: 0.01 | WinRate: 48.1%
  â†’ AUC: 0.4986 | AUCPR: 0.5267 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7588 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3144 | AUCPR: 0.5567 | Accuracy: 0.3333 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5379 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=8 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7093 | Sharpe: 1.13 | WinRate: 53.3%
  â†’ AUC: 0.4293 | AUCPR: 0.4548 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.9743 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=8 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7586 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7992 | AUCPR: 0.7225 | Accuracy: 0.7500 (0.5917 w/ threshold)
  â†’ Sharpe: 0.9287 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 13/120 (10.8%)
   ğŸ” Filter rejections: threshold=67 | percentile=7 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/13 (38.5% win rate)
      Losing trades: 8
      Avoided losses: 67 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000102
      Std dev: 0.003805
      Min/Max: -0.014202 / 0.033906
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.6933 | Sharpe: -0.68 | WinRate: 51.7%
  â†’ AUC: 0.5434 | AUCPR: 0.3975 | Accuracy: 0.5167 (0.6000 w/ threshold)
  â†’ Sharpe: -1.1502 (0.0961 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6993 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6257 | AUCPR: 0.5881 | Accuracy: 0.5833 (0.5750 w/ threshold)
  â†’ Sharpe: 1.2390 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.498605 0.526713  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.679744             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     54                  0.450000        0.025000                  62                            3      0.053845                         58                          18                         41                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.314407 0.556682  0.333333              0.300000  0.537906     -0.054751            0.594063   0.405405 0.194805 0.263157       0.758833             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.454788  0.466667              0.425000  1.974316     -0.032274            1.252751   0.382353 0.213115 0.273684       0.709318             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     60                  0.500000        0.283333                  55                           34      0.031817                         65                           8                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.799167 0.722521  0.750000              0.591667  0.928740     -0.035238            0.850054   0.666667 0.366667 0.473118       0.758557             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  60                           33      0.029547                         60                           8                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543407 0.397521  0.516667              0.600000 -1.150203     -0.039868            0.096082   0.384615 0.111111 0.172413       0.693267             NaN           sharpe                 True           0.012287   -0.004129   -0.477399  6.566594       0.461538           13                     60                  0.500000        0.108333                  53                           13      0.047787                         67                           7                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.625729 0.588145  0.583333              0.575000  1.239016     -0.033050            2.139146   0.605263 0.389831 0.474226       0.699332             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                  0.500000        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5351 Â± 0.1669
AUCPR:                0.5411 Â± 0.1128
Accuracy:             0.5333 Â± 0.1374
Accuracy (threshold): 0.4972 Â± 0.1180
Sharpe Ratio:         0.7130 Â± 1.0409
Sharpe (threshold):   0.9609 Â± 0.6906
Net Sharpe:           0.2980 Â± 0.5663
Net Return:           0.0221 Â± 0.0214
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2194 Â± 0.1222
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 864 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 864                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0438             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000618                      â•‘
â•‘ Accuracy Variance: 0.000517             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.172667
             macd    0.105785
        ema_short    0.101224
         ema_long    0.097843
            macds    0.088871
    volatility_20    0.079882
  close_vix_ratio    0.074296
distance_to_ma200    0.073571
              mfi    0.066571
              atr    0.047915
           roc_20    0.047453
   price_to_sma20    0.043923
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 53.1%                                              â”‚
â”‚    â€¢ Max Probability: 62.2%                                                  â”‚
â”‚    â€¢ Min Probability: 19.4%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 42.8% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 53.1%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5311829422911009,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01830 | Quality=0.031 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=864 score=-0.0995 net_sharpe=0.2980 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=62 | percentile=17 | technical=38 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: -0.26 | WinRate: 45.2%
  â†’ AUC: 0.5022 | AUCPR: 0.5368 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3120 | AUCPR: 0.5561 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7405 | Sharpe: 1.04 | WinRate: 53.7%
  â†’ AUC: 0.4276 | AUCPR: 0.4544 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.8161 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=7 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7788 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7989 | AUCPR: 0.7224 | Accuracy: 0.7583 (0.5917 w/ threshold)
  â†’ Sharpe: 1.2698 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=71 | percentile=4 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.7507 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5461 | AUCPR: 0.4011 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7270 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6346 | AUCPR: 0.5965 | Accuracy: 0.5750 (0.5833 w/ threshold)
  â†’ Sharpe: 1.3255 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.502232 0.536785  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     42                  0.350000        0.025000                  58                            3      0.053845                         62                          17                         38                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.311990 0.556109  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.765500             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.427619 0.454421  0.458333              0.425000  1.816107     -0.032274            1.252751   0.382353 0.213115 0.273684       0.740536             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                  0.450000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.798889 0.722398  0.758333              0.591667  1.269774     -0.035238            0.850054   0.666667 0.366667 0.473118       0.778849             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  59                           33      0.029547                         61                           7                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.546074 0.401093  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.750680             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                  0.450000        0.100000                  49                           12      0.047787                         71                           4                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.634621 0.596456  0.575000              0.583333  1.325453     -0.033050            2.096009   0.621622 0.389831 0.479166       0.727046             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5369 Â± 0.1685
AUCPR:                0.5445 Â± 0.1124
Accuracy:             0.5306 Â± 0.1428
Accuracy (threshold): 0.5000 Â± 0.1206
Sharpe Ratio:         0.7643 Â± 1.0371
Sharpe (threshold):   0.9274 Â± 0.7178
Net Sharpe:           0.2626 Â± 0.5990
Net Return:           0.0211 Â± 0.0221
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2167 Â± 0.1225
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 865 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 865                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0435             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000617                      â•‘
â•‘ Accuracy Variance: 0.000516             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.174539
             macd    0.112696
        ema_short    0.112142
         ema_long    0.087568
            macds    0.087334
    volatility_20    0.077971
distance_to_ma200    0.077321
  close_vix_ratio    0.069650
              mfi    0.064480
   price_to_sma20    0.053557
           roc_20    0.044886
              atr    0.037856
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 50.8%                                              â”‚
â”‚    â€¢ Max Probability: 60.8%                                                  â”‚
â”‚    â€¢ Min Probability: 14.6%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 46.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 50.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5075393443306287,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01582 | Quality=0.008 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=865 score=-0.1205 net_sharpe=0.2626 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=MSFT encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=12 | technical=45 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: 0.92 | WinRate: 52.1%
  â†’ AUC: 0.5130 | AUCPR: 0.5354 | Accuracy: 0.5583 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7262 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 16/120 (13.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=33 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=16/16 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 9/16 (56.2% win rate)
      Losing trades: 7
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.008005
      Min/Max: -0.021498 / 0.072435
      Long positions: 16
  â†’ Threshold (sharpe): BUY=0.7372 | Sharpe: 2.12 | WinRate: 57.4%
  â†’ AUC: 0.3428 | AUCPR: 0.5863 | Accuracy: 0.4083 (0.3750 w/ threshold)
  â†’ Sharpe: 1.7305 (0.8606 w/ threshold) | Max DD: -0.0282
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7198 | Sharpe: 1.36 | WinRate: 53.7%
  â†’ AUC: 0.4293 | AUCPR: 0.4550 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.6772 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 7/120 (5.8%)
   ğŸ” Filter rejections: threshold=81 | percentile=23 | technical=9 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=7/7 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.331

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 6/7 (85.7% win rate)
      Losing trades: 1
      Avoided losses: 59 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000080
      Std dev: 0.000537
      Min/Max: -0.000395 / 0.004608
      Long positions: 7
  â†’ Threshold (sharpe): BUY=0.6144 | Sharpe: 1.52 | WinRate: 63.0%
  â†’ AUC: 0.8036 | AUCPR: 0.7560 | Accuracy: 0.7000 (0.5417 w/ threshold)
  â†’ Sharpe: 1.6455 (0.0127 w/ threshold) | Max DD: -0.0008
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6640 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5452 | AUCPR: 0.4005 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6901 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6260 | AUCPR: 0.5882 | Accuracy: 0.5750 (0.5750 w/ threshold)
  â†’ Sharpe: 1.3255 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.512974 0.535434  0.558333              0.491667  0.726199     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     48                      0.40        0.025000                  60                            3      0.053845                         60                          12                         45                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.342797 0.586274  0.408333              0.375000  1.730534     -0.028165            0.860648   0.562500 0.116883 0.193548       0.737174             NaN           sharpe                 True           0.061603    0.026603    0.284395 14.000000       0.500000           16                     54                      0.45        0.133333                  55                           16      0.037757                         65                          33                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.455041  0.466667              0.425000  1.677212     -0.032274            1.252751   0.382353 0.213115 0.273684       0.719825             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                      0.45        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.803611 0.755997  0.700000              0.541667  1.645520     -0.000773            0.012710   0.857143 0.100000 0.179104       0.614376             NaN           sharpe                 True           0.009575    0.003722   -1.672345  2.341442       0.571429            7                     54                      0.45        0.058333                  39                            7      0.017923                         81                          23                          9                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545185 0.400497  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.664038             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                      0.45        0.100000                  55                           12      0.047787                         65                          10                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.626007 0.588161  0.575000              0.575000  1.325453     -0.033050            2.139146   0.605263 0.389831 0.474226       0.690111             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                      0.50        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5433 Â± 0.1605
AUCPR:                0.5536 Â± 0.1239
Accuracy:             0.5375 Â± 0.1004
Accuracy (threshold): 0.5028 Â± 0.0899
Sharpe Ratio:         0.9925 Â± 1.1147
Sharpe (threshold):   0.8395 Â± 0.8193
Net Sharpe:           0.0336 Â± 1.0184
Net Return:           0.0227 Â± 0.0231
Turnover:             9.1080 Â± 5.6719
Trade Coverage:       0.1528 Â± 0.1203
EV Mean/Fold:         0.03573 Â± 0.01356
Coverage Ratio:       1.0000
Max Drawdown:         -0.0246 Â± 0.0146
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 866 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 866                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0434             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000616                      â•‘
â•‘ Accuracy Variance: 0.000516             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.170502
             macd    0.128160
         ema_long    0.101580
        ema_short    0.093348
distance_to_ma200    0.092510
  close_vix_ratio    0.078448
            macds    0.074936
              mfi    0.063843
    volatility_20    0.061514
   price_to_sma20    0.051008
              atr    0.043066
           roc_20    0.041085
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 51.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.5%                                                  â”‚
â”‚    â€¢ Min Probability: 36.0%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.5% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 51.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5174471586942673,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01686 | Quality=0.017 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=866 score=-0.1448 net_sharpe=0.0336 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=18 | technical=41 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6797 | Sharpe: 0.01 | WinRate: 48.1%
  â†’ AUC: 0.4986 | AUCPR: 0.5267 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7588 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3144 | AUCPR: 0.5567 | Accuracy: 0.3333 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5379 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=65 | percentile=8 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7093 | Sharpe: 1.13 | WinRate: 53.3%
  â†’ AUC: 0.4293 | AUCPR: 0.4548 | Accuracy: 0.4667 (0.4250 w/ threshold)
  â†’ Sharpe: 1.9743 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=60 | percentile=8 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7586 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7992 | AUCPR: 0.7225 | Accuracy: 0.7500 (0.5917 w/ threshold)
  â†’ Sharpe: 0.9287 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 13/120 (10.8%)
   ğŸ” Filter rejections: threshold=67 | percentile=7 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/13 (38.5% win rate)
      Losing trades: 8
      Avoided losses: 67 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000102
      Std dev: 0.003805
      Min/Max: -0.014202 / 0.033906
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.6933 | Sharpe: -0.68 | WinRate: 51.7%
  â†’ AUC: 0.5434 | AUCPR: 0.3975 | Accuracy: 0.5167 (0.6000 w/ threshold)
  â†’ Sharpe: -1.1502 (0.0961 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=5 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/38 (60.5% win rate)
      Losing trades: 15
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000764
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.6993 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6257 | AUCPR: 0.5881 | Accuracy: 0.5833 (0.5750 w/ threshold)
  â†’ Sharpe: 1.2390 (2.1391 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.498605 0.526713  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.679744             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     54                  0.450000        0.025000                  62                            3      0.053845                         58                          18                         41                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.314407 0.556682  0.333333              0.300000  0.537906     -0.054751            0.594063   0.405405 0.194805 0.263157       0.758833             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.429286 0.454788  0.466667              0.425000  1.974316     -0.032274            1.252751   0.382353 0.213115 0.273684       0.709318             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     60                  0.500000        0.283333                  55                           34      0.031817                         65                           8                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.799167 0.722521  0.750000              0.591667  0.928740     -0.035238            0.850054   0.666667 0.366667 0.473118       0.758557             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  60                           33      0.029547                         60                           8                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543407 0.397521  0.516667              0.600000 -1.150203     -0.039868            0.096082   0.384615 0.111111 0.172413       0.693267             NaN           sharpe                 True           0.012287   -0.004129   -0.477399  6.566594       0.461538           13                     60                  0.500000        0.108333                  53                           13      0.047787                         67                           7                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.625729 0.588145  0.583333              0.575000  1.239016     -0.033050            2.139146   0.605263 0.389831 0.474226       0.699332             NaN           sharpe                 True           0.091704    0.051704    1.124995 16.000000       0.552632           38                     60                  0.500000        0.316667                  60                           38      0.025248                         60                           5                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5351 Â± 0.1669
AUCPR:                0.5411 Â± 0.1128
Accuracy:             0.5333 Â± 0.1374
Accuracy (threshold): 0.4972 Â± 0.1180
Sharpe Ratio:         0.7130 Â± 1.0409
Sharpe (threshold):   0.9609 Â± 0.6906
Net Sharpe:           0.2980 Â± 0.5663
Net Return:           0.0221 Â± 0.0214
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2194 Â± 0.1222
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 867 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 867                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5429                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0430             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000616                      â•‘
â•‘ Accuracy Variance: 0.000515             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.172667
             macd    0.105785
        ema_short    0.101224
         ema_long    0.097843
            macds    0.088871
    volatility_20    0.079882
  close_vix_ratio    0.074296
distance_to_ma200    0.073571
              mfi    0.066571
              atr    0.047915
           roc_20    0.047453
   price_to_sma20    0.043923
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 53.1%                                              â”‚
â”‚    â€¢ Max Probability: 62.2%                                                  â”‚
â”‚    â€¢ Min Probability: 19.4%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 42.8% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 53.1%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5311829422911009,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01830 | Quality=0.031 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=867 score=-0.0995 net_sharpe=0.2980 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-09-15 (400 samples)
Valid: 2022-09-16 to 2023-03-29 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 3/120 (2.5%)
   ğŸ” Filter rejections: threshold=62 | percentile=17 | technical=38 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=3/3 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.935

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-09-16 to 2023-03-29
      Winning trades: 3/3 (100.0% win rate)
      Avoided losses: 56 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000238
      Std dev: 0.003016
      Min/Max: -0.013440 / 0.025298
      Long positions: 3
  â†’ Threshold (sharpe): BUY=0.6900 | Sharpe: -0.26 | WinRate: 45.2%
  â†’ AUC: 0.5022 | AUCPR: 0.5368 | Accuracy: 0.5500 (0.4917 w/ threshold)
  â†’ Sharpe: 0.7483 (0.8335 w/ threshold) | Max DD: -0.0134
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-18 to 2023-03-29 (400 samples)
Valid: 2023-03-30 to 2023-10-10 (120 samples)
Class distribution in validation: {1.0: 77, 0.0: 43}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=64 | percentile=4 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-03-30 to 2023-10-10
      Winning trades: 15/37 (40.5% win rate)
      Losing trades: 22
      Avoided losses: 21 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000440
      Std dev: 0.009648
      Min/Max: -0.023977 / 0.072435
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 1.66 | WinRate: 55.8%
  â†’ AUC: 0.3120 | AUCPR: 0.5561 | Accuracy: 0.3250 (0.3000 w/ threshold)
  â†’ Sharpe: 0.5762 (0.5941 w/ threshold) | Max DD: -0.0548
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-01-11 to 2023-10-10 (400 samples)
Valid: 2023-10-11 to 2024-05-16 (120 samples)
Class distribution in validation: {1.0: 61, 0.0: 59}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=68 | percentile=5 | technical=13 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-10-11 to 2024-05-16
      Winning trades: 13/34 (38.2% win rate)
      Losing trades: 21
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000615
      Std dev: 0.006786
      Min/Max: -0.029572 / 0.026600
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7405 | Sharpe: 1.04 | WinRate: 53.7%
  â†’ AUC: 0.4276 | AUCPR: 0.4544 | Accuracy: 0.4583 (0.4250 w/ threshold)
  â†’ Sharpe: 1.8161 (1.2528 w/ threshold) | Max DD: -0.0323
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-21 to 2024-05-16 (400 samples)
Valid: 2024-05-17 to 2024-11-26 (120 samples)
Class distribution in validation: {0.0: 60, 1.0: 60}
   âœ… Positions opened: 33/120 (27.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=7 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=33/33 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.889

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-05-17 to 2024-11-26
      Winning trades: 22/33 (66.7% win rate)
      Losing trades: 11
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000317
      Std dev: 0.004443
      Min/Max: -0.024751 / 0.019521
      Long positions: 33
  â†’ Threshold (sharpe): BUY=0.7788 | Sharpe: 1.46 | WinRate: 63.5%
  â†’ AUC: 0.7989 | AUCPR: 0.7224 | Accuracy: 0.7583 (0.5917 w/ threshold)
  â†’ Sharpe: 1.2698 (0.8501 w/ threshold) | Max DD: -0.0352
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-01-20 to 2024-11-26 (400 samples)
Valid: 2024-11-27 to 2025-06-17 (120 samples)
Class distribution in validation: {0.0: 75, 1.0: 45}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=71 | percentile=4 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.821

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-11-27 to 2025-06-17
      Winning trades: 5/12 (41.7% win rate)
      Losing trades: 7
      Avoided losses: 68 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000065
      Std dev: 0.003783
      Min/Max: -0.014202 / 0.033906
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.7507 | Sharpe: -0.65 | WinRate: 50.0%
  â†’ AUC: 0.5461 | AUCPR: 0.4011 | Accuracy: 0.5167 (0.6083 w/ threshold)
  â†’ Sharpe: -1.1502 (-0.0619 w/ threshold) | Max DD: -0.0399
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-08-07 to 2025-06-17 (400 samples)
Valid: 2025-06-18 to 2026-01-12 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 37/120 (30.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=6 | technical=17 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=37/37 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-06-18 to 2026-01-12
      Winning trades: 23/37 (62.2% win rate)
      Losing trades: 14
      Avoided losses: 47 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000750
      Std dev: 0.005082
      Min/Max: -0.021899 / 0.021688
      Long positions: 37
  â†’ Threshold (sharpe): BUY=0.7270 | Sharpe: 2.15 | WinRate: 58.3%
  â†’ AUC: 0.6346 | AUCPR: 0.5965 | Accuracy: 0.5750 (0.5833 w/ threshold)
  â†’ Sharpe: 1.3255 (2.0960 w/ threshold) | Max DD: -0.0331
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.502232 0.536785  0.550000              0.491667  0.748313     -0.013440            0.833544   1.000000 0.046875 0.089552       0.690000             NaN           sharpe                 True           0.028529    0.019179    0.429380  3.740046       0.666667            3                     42                  0.350000        0.025000                  58                            3      0.053845                         62                          17                         38                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.311990 0.556109  0.325000              0.300000  0.576209     -0.054751            0.594063   0.405405 0.194805 0.263157       0.765500             NaN           sharpe                 True           0.052850    0.012850    0.045526 16.000000       0.486486           37                     52                  0.433333        0.308333                  56                           37      0.037757                         64                           4                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.427619 0.454421  0.458333              0.425000  1.816107     -0.032274            1.252751   0.382353 0.213115 0.273684       0.740536             NaN           sharpe                 True           0.073786    0.043786    0.675156 12.000000       0.500000           34                     54                  0.450000        0.283333                  52                           34      0.031817                         68                           5                         13                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.798889 0.722398  0.758333              0.591667  1.269774     -0.035238            0.850054   0.666667 0.366667 0.473118       0.778849             NaN           sharpe                 True           0.038075    0.009195   -0.009897 11.552152       0.545455           33                     52                  0.433333        0.275000                  59                           33      0.029547                         61                           7                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.546074 0.401093  0.516667              0.608333 -1.150203     -0.039868           -0.061913   0.416667 0.111111 0.175438       0.750680             NaN           sharpe                 True           0.007753   -0.008663   -0.639859  6.566594       0.416667           12                     54                  0.450000        0.100000                  49                           12      0.047787                         71                           4                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.634621 0.596456  0.575000              0.583333  1.325453     -0.033050            2.096009   0.621622 0.389831 0.479166       0.727046             NaN           sharpe                 True           0.090044    0.050044    1.075209 16.000000       0.567568           37                     60                  0.500000        0.308333                  60                           37      0.025248                         60                           6                         17                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5369 Â± 0.1685
AUCPR:                0.5445 Â± 0.1124
Accuracy:             0.5306 Â± 0.1428
Accuracy (threshold): 0.5000 Â± 0.1206
Sharpe Ratio:         0.7643 Â± 1.0371
Sharpe (threshold):   0.9274 Â± 0.7178
Net Sharpe:           0.2626 Â± 0.5990
Net Return:           0.0211 Â± 0.0221
Turnover:             10.9765 Â± 4.9732
Trade Coverage:       0.2167 Â± 0.1225
EV Mean/Fold:         0.03767 Â± 0.01112
Coverage Ratio:       1.0000
Max Drawdown:         -0.0348 Â± 0.0133
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 868 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 868                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5428                         â•‘
â•‘ Average Accuracy: 0.5324                 â•‘
â•‘ Average Sharpe Ratio: 1.0427             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000615                      â•‘
â•‘ Accuracy Variance: 0.000515             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           ADX_14    0.174539
             macd    0.112696
        ema_short    0.112142
         ema_long    0.087568
            macds    0.087334
    volatility_20    0.077971
distance_to_ma200    0.077321
  close_vix_ratio    0.069650
              mfi    0.064480
   price_to_sma20    0.053557
           roc_20    0.044886
              atr    0.037856
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - MSFT                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 50.8%                                              â”‚
â”‚    â€¢ Max Probability: 60.8%                                                  â”‚
â”‚    â€¢ Min Probability: 14.6%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 46.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $392.74                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $420.27 (+7.01%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $378.97 (-3.50%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 50.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 392.739990234375,
  "profit_target": 420.270839075018,
  "stop_loss": 378.9745658140535,
  "probability": 0.5075393443306287,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01582 | Quality=0.008 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=868 score=-0.1205 net_sharpe=0.2626 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=AAPL encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=23 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 13/14 (92.9% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000517
      Std dev: 0.005055
      Min/Max: -0.017802 / 0.034694
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7053 | Sharpe: 1.58 | WinRate: 61.9%
  â†’ AUC: 0.6091 | AUCPR: 0.7519 | Accuracy: 0.5917 (0.4417 w/ threshold)
  â†’ Sharpe: 0.7430 (1.3744 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 31/120 (25.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=10 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=31/31 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/31 (48.4% win rate)
      Losing trades: 16
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000318
      Std dev: 0.006273
      Min/Max: -0.024606 / 0.046927
      Long positions: 31
  â†’ Threshold (sharpe): BUY=0.7559 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4690 | AUCPR: 0.5256 | Accuracy: 0.5333 (0.4250 w/ threshold)
  â†’ Sharpe: 1.1233 (0.6036 w/ threshold) | Max DD: -0.0700
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=53 | percentile=12 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7889 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3331 | AUCPR: 0.4619 | Accuracy: 0.3083 (0.4083 w/ threshold)
  â†’ Sharpe: 0.2008 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 43/120 (35.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=43/43 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 25/43 (58.1% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000274
      Std dev: 0.006692
      Min/Max: -0.025469 / 0.032395
      Long positions: 43
  â†’ Threshold (sharpe): BUY=0.8103 | Sharpe: 1.04 | WinRate: 56.1%
  â†’ AUC: 0.6039 | AUCPR: 0.5151 | Accuracy: 0.5917 (0.6167 w/ threshold)
  â†’ Sharpe: 1.7772 (0.4627 w/ threshold) | Max DD: -0.0536
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=71 | percentile=10 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7942 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6293 | AUCPR: 0.4230 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -1.3368 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 29/98 (29.6%)
   ğŸ” Filter rejections: threshold=51 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=29/29 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 13/29 (44.8% win rate)
      Losing trades: 16
      Avoided losses: 26 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.001241
      Std dev: 0.008627
      Min/Max: -0.031066 / 0.040791
      Long positions: 29
  â†’ Threshold (sharpe): BUY=0.8039 | Sharpe: 2.98 | WinRate: 59.2%
  â†’ AUC: 0.3440 | AUCPR: 0.5079 | Accuracy: 0.3367 (0.3980 w/ threshold)
  â†’ Sharpe: 2.6676 (2.1378 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.609139 0.751852  0.591667              0.441667  0.743034     -0.027068            1.374386   0.928571 0.164557 0.279570       0.705290             NaN           sharpe                 True           0.062040    0.047209    0.986632  5.932358       0.642857           14                     42                  0.350000        0.116667                  60                           14      0.054369                         60                          23                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.469033 0.525633  0.533333              0.425000  1.123333     -0.069979            0.603607   0.483871 0.220588 0.303030       0.755938             NaN           sharpe                 True           0.038144   -0.016856   -0.550515 22.000000       0.516129           31                     54                  0.450000        0.258333                  60                           31      0.030729                         60                          10                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.333147 0.461907  0.308333              0.408333  0.200770     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.788860             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  67                           15      0.035264                         53                          12                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.603914 0.515104  0.591667              0.616667  1.777202     -0.053619            0.462748   0.581395 0.471698 0.520833       0.810259             NaN           sharpe                 True           0.032931    0.011081    0.030692  8.739847       0.488372           43                     57                  0.475000        0.358333                  61                           43      0.031414                         59                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.629332 0.423003  0.466667              0.650000 -1.336809     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.794168             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  49                            8      0.073816                         71                          10                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.343963 0.507854  0.336735              0.397959  2.667616     -0.052201            2.137767   0.448276 0.232143 0.305882       0.803949             NaN           sharpe                 True           0.121633    0.083112    1.437997 15.408172       0.620690           29                     49                  0.500000        0.295918                  47                           29      0.034889                         51                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4981 Â± 0.1361
AUCPR:                0.5309 Â± 0.1149
Accuracy:             0.4714 Â± 0.1245
Accuracy (threshold): 0.4899 Â± 0.1126
Sharpe Ratio:         0.8625 Â± 1.3749
Sharpe (threshold):   0.6048 Â± 1.0522
Net Sharpe:           0.0358 Â± 0.9912
Net Return:           0.0137 Â± 0.0431
Turnover:             10.8714 Â± 6.8378
Trade Coverage:       0.2035 Â± 0.1166
EV Mean/Fold:         0.04341 Â± 0.01725
Coverage Ratio:       1.0000
Max Drawdown:         -0.0523 Â± 0.0161
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 869 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 869                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5428                         â•‘
â•‘ Average Accuracy: 0.5323                 â•‘
â•‘ Average Sharpe Ratio: 1.0425             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000616                      â•‘
â•‘ Accuracy Variance: 0.000518             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.131057
         ema_long    0.112953
        ema_short    0.110047
             macd    0.102509
           ADX_14    0.099295
           roc_20    0.098857
    volatility_20    0.073069
            macds    0.063531
  close_vix_ratio    0.063408
              mfi    0.053477
   price_to_sma20    0.048934
              atr    0.042864
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 56.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.7%                                                  â”‚
â”‚    â€¢ Min Probability: 35.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 27.1% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 56.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5672370741764704,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01923 | Quality=0.067 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=869 score=-0.2561 net_sharpe=0.0358 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6372 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5952 | AUCPR: 0.7432 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 25/120 (20.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=18 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=25/25 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 13/25 (52.0% win rate)
      Losing trades: 12
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.005968
      Min/Max: -0.024606 / 0.046927
      Long positions: 25
  â†’ Threshold (sharpe): BUY=0.7019 | Sharpe: -0.08 | WinRate: 50.0%
  â†’ AUC: 0.4805 | AUCPR: 0.5366 | Accuracy: 0.5250 (0.4417 w/ threshold)
  â†’ Sharpe: 1.0170 (-0.0661 w/ threshold) | Max DD: -0.0703
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=15 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7537 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3320 | AUCPR: 0.4609 | Accuracy: 0.3000 (0.4083 w/ threshold)
  â†’ Sharpe: 0.1506 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 45/120 (37.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=3 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=45/45 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 27/45 (60.0% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000172
      Std dev: 0.006789
      Min/Max: -0.025469 / 0.032395
      Long positions: 45
  â†’ Threshold (sharpe): BUY=0.7874 | Sharpe: 0.86 | WinRate: 55.0%
  â†’ AUC: 0.6174 | AUCPR: 0.5262 | Accuracy: 0.5750 (0.6333 w/ threshold)
  â†’ Sharpe: 0.8582 (0.2158 w/ threshold) | Max DD: -0.0562
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=69 | percentile=12 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7793 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6327 | AUCPR: 0.4251 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -0.9923 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 13/98 (13.3%)
   ğŸ” Filter rejections: threshold=51 | percentile=28 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.957

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 7/13 (53.8% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.000125
      Std dev: 0.005446
      Min/Max: -0.031066 / 0.030848
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.7452 | Sharpe: 3.15 | WinRate: 59.2%
  â†’ AUC: 0.3359 | AUCPR: 0.5003 | Accuracy: 0.4184 (0.4388 w/ threshold)
  â†’ Sharpe: 3.2030 (0.1343 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.595245 0.743158  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.637181             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          12                         32                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.480486 0.536575  0.525000              0.441667  1.016981     -0.070296           -0.066099   0.520000 0.191176 0.279569       0.701920             NaN           sharpe                 True           0.006542   -0.043458   -1.162567 20.000000       0.440000           25                     54                  0.450000        0.208333                  61                           25      0.030729                         59                          18                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.332031 0.460901  0.300000              0.408333  0.150613     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.753748             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  70                           15      0.035264                         50                          15                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.617432 0.526193  0.575000              0.633333  0.858171     -0.056185            0.215822   0.600000 0.509434 0.551020       0.787436             NaN           sharpe                 True           0.020600   -0.001250   -0.207405  8.739847       0.466667           45                     60                  0.500000        0.375000                  62                           45      0.031414                         58                           3                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.632702 0.425088  0.466667              0.650000 -0.992259     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779334             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  51                            8      0.073816                         69                          12                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.335884 0.500310  0.418367              0.438776  3.203028     -0.052201            0.134287   0.538461 0.125000 0.202898       0.745180             NaN           sharpe                 True           0.012293    0.002293   -0.161681  3.999731       0.461538           13                     49                  0.500000        0.132653                  47                           13      0.034804                         51                          28                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4990 Â± 0.1386
AUCPR:                0.5320 Â± 0.1115
Accuracy:             0.4878 Â± 0.1210
Accuracy (threshold): 0.5037 Â± 0.1079
Sharpe Ratio:         0.9741 Â± 1.4092
Sharpe (threshold):   0.0805 Â± 0.6391
Net Sharpe:           -0.4326 Â± 0.6731
Net Return:           -0.0085 Â± 0.0263
Turnover:             8.9662 Â± 6.0415
Trade Coverage:       0.1721 Â± 0.1092
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0528 Â± 0.0163
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 870 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 870                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5427                         â•‘
â•‘ Average Accuracy: 0.5323                 â•‘
â•‘ Average Sharpe Ratio: 1.0424             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000618                      â•‘
â•‘ Accuracy Variance: 0.000520             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.109079
        ema_short    0.105411
           roc_20    0.105175
         ema_long    0.096055
           ADX_14    0.094870
             macd    0.087697
            macds    0.075841
              mfi    0.070497
              atr    0.070124
    volatility_20    0.067965
  close_vix_ratio    0.060492
   price_to_sma20    0.056794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 58.4%                                              â”‚
â”‚    â€¢ Max Probability: 60.7%                                                  â”‚
â”‚    â€¢ Min Probability: 51.1%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 9.6% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 58.4%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5844289362430573,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02082 | Quality=0.084 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=870 score=-0.4227 net_sharpe=-0.4326 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 12
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=11 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6401 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5883 | AUCPR: 0.7350 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 30/120 (25.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=13 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=30/30 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/30 (50.0% win rate)
      Losing trades: 15
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000312
      Std dev: 0.006272
      Min/Max: -0.024606 / 0.046927
      Long positions: 30
  â†’ Threshold (sharpe): BUY=0.7136 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4673 | AUCPR: 0.5274 | Accuracy: 0.5333 (0.4333 w/ threshold)
  â†’ Sharpe: 1.1233 (0.5890 w/ threshold) | Max DD: -0.0706
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=52 | percentile=14 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/14 (28.6% win rate)
      Losing trades: 10
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000091
      Std dev: 0.007282
      Min/Max: -0.019148 / 0.072649
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7613 | Sharpe: -0.16 | WinRate: 38.9%
  â†’ AUC: 0.3361 | AUCPR: 0.4641 | Accuracy: 0.3250 (0.4167 w/ threshold)
  â†’ Sharpe: 0.2945 (0.0246 w/ threshold) | Max DD: -0.0604
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 19/120 (15.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=36 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.870

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 13/19 (68.4% win rate)
      Losing trades: 6
      Avoided losses: 61 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000463
      Std dev: 0.003778
      Min/Max: -0.018898 / 0.018679
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7924 | Sharpe: 1.25 | WinRate: 58.2%
  â†’ AUC: 0.6080 | AUCPR: 0.5366 | Accuracy: 0.6000 (0.6167 w/ threshold)
  â†’ Sharpe: 1.6216 (1.6123 w/ threshold) | Max DD: -0.0246
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=68 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7795 | Sharpe: 0.08 | WinRate: 54.2%
  â†’ AUC: 0.6277 | AUCPR: 0.4205 | Accuracy: 0.4583 (0.6500 w/ threshold)
  â†’ Sharpe: -1.2420 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 6/98 (6.1%)
   ğŸ” Filter rejections: threshold=78 | percentile=12 | technical=2 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 2/6 (33.3% win rate)
      Losing trades: 4
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: -0.000228
      Std dev: 0.004156
      Min/Max: -0.031066 / 0.016913
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.6712 | Sharpe: 2.18 | WinRate: 53.3%
  â†’ AUC: 0.3710 | AUCPR: 0.5133 | Accuracy: 0.3980 (0.4082 w/ threshold)
  â†’ Sharpe: 2.1862 (-1.1731 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.588299 0.734954  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.640123             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          11                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.467336 0.527369  0.533333              0.433333  1.123333     -0.070624            0.588973   0.500000 0.220588 0.306122       0.713580             NaN           sharpe                 True           0.037450   -0.017550   -0.565038 22.000000       0.500000           30                     54                  0.450000        0.250000                  62                           30      0.030729                         58                          13                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.336077 0.464142  0.325000              0.416667  0.294530     -0.060418            0.024552   0.285714 0.062500 0.102564       0.761327             NaN           sharpe                 True           0.010875   -0.014125   -0.425440 10.000000       0.214286           14                     54                  0.450000        0.116667                  68                           14      0.035264                         52                          14                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.607998 0.536624  0.600000              0.616667  1.621557     -0.024600            1.612290   0.684210 0.245283 0.361111       0.792363             NaN           sharpe                 True           0.055571    0.020694    0.397817 13.950647       0.526316           19                     55                  0.458333        0.158333                  61                           19      0.031361                         59                          36                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.627728 0.420536  0.458333              0.650000 -1.242025     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779538             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     48                  0.400000        0.066667                  52                            8      0.073816                         68                          12                         32                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.370961 0.513332  0.397959              0.408163  2.186201     -0.052201           -1.173088   0.333333 0.035714 0.064516       0.671200             NaN           sharpe                 True          -0.022319   -0.027134   -1.356403  1.926022       0.333333            6                     30                  0.306122        0.061224                  20                            6      0.034889                         78                          12                          2                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4997 Â± 0.1268
AUCPR:                0.5328 Â± 0.1083
Accuracy:             0.4927 Â± 0.1214
Accuracy (threshold): 0.4958 Â± 0.1080
Sharpe Ratio:         0.9319 Â± 1.2389
Sharpe (threshold):   0.2299 Â± 1.0956
Net Sharpe:           -0.4065 Â± 0.7931
Net Return:           -0.0040 Â± 0.0248
Turnover:             9.8224 Â± 7.4287
Trade Coverage:       0.1296 Â± 0.0695
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0463 Â± 0.0183
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 871 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 871                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5427                         â•‘
â•‘ Average Accuracy: 0.5322                 â•‘
â•‘ Average Sharpe Ratio: 1.0423             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000619                      â•‘
â•‘ Accuracy Variance: 0.000521             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.111655
           roc_20    0.110204
        ema_short    0.101479
         ema_long    0.095172
             macd    0.092785
           ADX_14    0.085552
  close_vix_ratio    0.084132
    volatility_20    0.068969
            macds    0.066547
              mfi    0.064813
   price_to_sma20    0.062893
              atr    0.055801
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 57.6%                                              â”‚
â”‚    â€¢ Max Probability: 68.6%                                                  â”‚
â”‚    â€¢ Min Probability: 42.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5763011028369268,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02007 | Quality=0.076 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=871 score=-0.4583 net_sharpe=-0.4065 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=AAPL encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=60 | percentile=23 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 13/14 (92.9% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000517
      Std dev: 0.005055
      Min/Max: -0.017802 / 0.034694
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7053 | Sharpe: 1.58 | WinRate: 61.9%
  â†’ AUC: 0.6091 | AUCPR: 0.7519 | Accuracy: 0.5917 (0.4417 w/ threshold)
  â†’ Sharpe: 0.7430 (1.3744 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 31/120 (25.8%)
   ğŸ” Filter rejections: threshold=60 | percentile=10 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=31/31 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/31 (48.4% win rate)
      Losing trades: 16
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000318
      Std dev: 0.006273
      Min/Max: -0.024606 / 0.046927
      Long positions: 31
  â†’ Threshold (sharpe): BUY=0.7559 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4690 | AUCPR: 0.5256 | Accuracy: 0.5333 (0.4250 w/ threshold)
  â†’ Sharpe: 1.1233 (0.6036 w/ threshold) | Max DD: -0.0700
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=53 | percentile=12 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7889 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3331 | AUCPR: 0.4619 | Accuracy: 0.3083 (0.4083 w/ threshold)
  â†’ Sharpe: 0.2008 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 43/120 (35.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=43/43 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 25/43 (58.1% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000274
      Std dev: 0.006692
      Min/Max: -0.025469 / 0.032395
      Long positions: 43
  â†’ Threshold (sharpe): BUY=0.8103 | Sharpe: 1.04 | WinRate: 56.1%
  â†’ AUC: 0.6039 | AUCPR: 0.5151 | Accuracy: 0.5917 (0.6167 w/ threshold)
  â†’ Sharpe: 1.7772 (0.4627 w/ threshold) | Max DD: -0.0536
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=71 | percentile=10 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7942 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6293 | AUCPR: 0.4230 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -1.3368 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 29/98 (29.6%)
   ğŸ” Filter rejections: threshold=51 | percentile=4 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=29/29 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 13/29 (44.8% win rate)
      Losing trades: 16
      Avoided losses: 26 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.001241
      Std dev: 0.008627
      Min/Max: -0.031066 / 0.040791
      Long positions: 29
  â†’ Threshold (sharpe): BUY=0.8039 | Sharpe: 2.98 | WinRate: 59.2%
  â†’ AUC: 0.3440 | AUCPR: 0.5079 | Accuracy: 0.3367 (0.3980 w/ threshold)
  â†’ Sharpe: 2.6676 (2.1378 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.609139 0.751852  0.591667              0.441667  0.743034     -0.027068            1.374386   0.928571 0.164557 0.279570       0.705290             NaN           sharpe                 True           0.062040    0.047209    0.986632  5.932358       0.642857           14                     42                  0.350000        0.116667                  60                           14      0.054369                         60                          23                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.469033 0.525633  0.533333              0.425000  1.123333     -0.069979            0.603607   0.483871 0.220588 0.303030       0.755938             NaN           sharpe                 True           0.038144   -0.016856   -0.550515 22.000000       0.516129           31                     54                  0.450000        0.258333                  60                           31      0.030729                         60                          10                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.333147 0.461907  0.308333              0.408333  0.200770     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.788860             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  67                           15      0.035264                         53                          12                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.603914 0.515104  0.591667              0.616667  1.777202     -0.053619            0.462748   0.581395 0.471698 0.520833       0.810259             NaN           sharpe                 True           0.032931    0.011081    0.030692  8.739847       0.488372           43                     57                  0.475000        0.358333                  61                           43      0.031414                         59                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.629332 0.423003  0.466667              0.650000 -1.336809     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.794168             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  49                            8      0.073816                         71                          10                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.343963 0.507854  0.336735              0.397959  2.667616     -0.052201            2.137767   0.448276 0.232143 0.305882       0.803949             NaN           sharpe                 True           0.121633    0.083112    1.437997 15.408172       0.620690           29                     49                  0.500000        0.295918                  47                           29      0.034889                         51                           4                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4981 Â± 0.1361
AUCPR:                0.5309 Â± 0.1149
Accuracy:             0.4714 Â± 0.1245
Accuracy (threshold): 0.4899 Â± 0.1126
Sharpe Ratio:         0.8625 Â± 1.3749
Sharpe (threshold):   0.6048 Â± 1.0522
Net Sharpe:           0.0358 Â± 0.9912
Net Return:           0.0137 Â± 0.0431
Turnover:             10.8714 Â± 6.8378
Trade Coverage:       0.2035 Â± 0.1166
EV Mean/Fold:         0.04341 Â± 0.01725
Coverage Ratio:       1.0000
Max Drawdown:         -0.0523 Â± 0.0161
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 872 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 872                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5426                         â•‘
â•‘ Average Accuracy: 0.5322                 â•‘
â•‘ Average Sharpe Ratio: 1.0421             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000621                      â•‘
â•‘ Accuracy Variance: 0.000525             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.131057
         ema_long    0.112953
        ema_short    0.110047
             macd    0.102509
           ADX_14    0.099295
           roc_20    0.098857
    volatility_20    0.073069
            macds    0.063531
  close_vix_ratio    0.063408
              mfi    0.053477
   price_to_sma20    0.048934
              atr    0.042864
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 56.7%                                              â”‚
â”‚    â€¢ Max Probability: 62.7%                                                  â”‚
â”‚    â€¢ Min Probability: 35.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 27.1% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 56.7%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5672370741764704,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.01923 | Quality=0.067 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=872 score=-0.2561 net_sharpe=0.0358 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6372 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5952 | AUCPR: 0.7432 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 25/120 (20.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=18 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=25/25 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 13/25 (52.0% win rate)
      Losing trades: 12
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.005968
      Min/Max: -0.024606 / 0.046927
      Long positions: 25
  â†’ Threshold (sharpe): BUY=0.7019 | Sharpe: -0.08 | WinRate: 50.0%
  â†’ AUC: 0.4805 | AUCPR: 0.5366 | Accuracy: 0.5250 (0.4417 w/ threshold)
  â†’ Sharpe: 1.0170 (-0.0661 w/ threshold) | Max DD: -0.0703
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=15 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/15 (26.7% win rate)
      Losing trades: 11
      Avoided losses: 45 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000020
      Std dev: 0.007323
      Min/Max: -0.019148 / 0.072649
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.7537 | Sharpe: -0.25 | WinRate: 38.2%
  â†’ AUC: 0.3320 | AUCPR: 0.4609 | Accuracy: 0.3000 (0.4083 w/ threshold)
  â†’ Sharpe: 0.1506 (-0.1279 w/ threshold) | Max DD: -0.0683
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 45/120 (37.5%)
   ğŸ” Filter rejections: threshold=58 | percentile=3 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=45/45 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.874

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 27/45 (60.0% win rate)
      Losing trades: 18
      Avoided losses: 49 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000172
      Std dev: 0.006789
      Min/Max: -0.025469 / 0.032395
      Long positions: 45
  â†’ Threshold (sharpe): BUY=0.7874 | Sharpe: 0.86 | WinRate: 55.0%
  â†’ AUC: 0.6174 | AUCPR: 0.5262 | Accuracy: 0.5750 (0.6333 w/ threshold)
  â†’ Sharpe: 0.8582 (0.2158 w/ threshold) | Max DD: -0.0562
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=69 | percentile=12 | technical=31 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7793 | Sharpe: -0.20 | WinRate: 54.8%
  â†’ AUC: 0.6327 | AUCPR: 0.4251 | Accuracy: 0.4667 (0.6500 w/ threshold)
  â†’ Sharpe: -0.9923 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 13/98 (13.3%)
   ğŸ” Filter rejections: threshold=51 | percentile=28 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=13/13 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.957

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 7/13 (53.8% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: 0.000125
      Std dev: 0.005446
      Min/Max: -0.031066 / 0.030848
      Long positions: 13
  â†’ Threshold (sharpe): BUY=0.7452 | Sharpe: 3.15 | WinRate: 59.2%
  â†’ AUC: 0.3359 | AUCPR: 0.5003 | Accuracy: 0.4184 (0.4388 w/ threshold)
  â†’ Sharpe: 3.2030 (0.1343 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.595245 0.743158  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.637181             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          12                         32                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.480486 0.536575  0.525000              0.441667  1.016981     -0.070296           -0.066099   0.520000 0.191176 0.279569       0.701920             NaN           sharpe                 True           0.006542   -0.043458   -1.162567 20.000000       0.440000           25                     54                  0.450000        0.208333                  61                           25      0.030729                         59                          18                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.332031 0.460901  0.300000              0.408333  0.150613     -0.068339           -0.127873   0.266667 0.062500 0.101266       0.753748             NaN           sharpe                 True           0.002445   -0.022555   -0.574079 10.000000       0.200000           15                     55                  0.458333        0.125000                  70                           15      0.035264                         50                          15                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.617432 0.526193  0.575000              0.633333  0.858171     -0.056185            0.215822   0.600000 0.509434 0.551020       0.787436             NaN           sharpe                 True           0.020600   -0.001250   -0.207405  8.739847       0.466667           45                     60                  0.500000        0.375000                  62                           45      0.031414                         58                           3                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.632702 0.425088  0.466667              0.650000 -0.992259     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779334             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     42                  0.350000        0.066667                  51                            8      0.073816                         69                          12                         31                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.335884 0.500310  0.418367              0.438776  3.203028     -0.052201            0.134287   0.538461 0.125000 0.202898       0.745180             NaN           sharpe                 True           0.012293    0.002293   -0.161681  3.999731       0.461538           13                     49                  0.500000        0.132653                  47                           13      0.034804                         51                          28                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4990 Â± 0.1386
AUCPR:                0.5320 Â± 0.1115
Accuracy:             0.4878 Â± 0.1210
Accuracy (threshold): 0.5037 Â± 0.1079
Sharpe Ratio:         0.9741 Â± 1.4092
Sharpe (threshold):   0.0805 Â± 0.6391
Net Sharpe:           -0.4326 Â± 0.6731
Net Return:           -0.0085 Â± 0.0263
Turnover:             8.9662 Â± 6.0415
Trade Coverage:       0.1721 Â± 0.1092
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0528 Â± 0.0163
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 873 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 873                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5426                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0420             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000622                      â•‘
â•‘ Accuracy Variance: 0.000526             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.109079
        ema_short    0.105411
           roc_20    0.105175
         ema_long    0.096055
           ADX_14    0.094870
             macd    0.087697
            macds    0.075841
              mfi    0.070497
              atr    0.070124
    volatility_20    0.067965
  close_vix_ratio    0.060492
   price_to_sma20    0.056794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 58.4%                                              â”‚
â”‚    â€¢ Max Probability: 60.7%                                                  â”‚
â”‚    â€¢ Min Probability: 51.1%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 9.6% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 58.4%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5844289362430573,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02082 | Quality=0.084 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=873 score=-0.4227 net_sharpe=-0.4326 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 11
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-03 (400 samples)
Valid: 2022-10-04 to 2023-05-01 (120 samples)
Class distribution in validation: {1.0: 79, 0.0: 41}
   âœ… Positions opened: 15/120 (12.5%)
   ğŸ” Filter rejections: threshold=61 | percentile=11 | technical=33 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=15/15 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.989

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-04 to 2023-05-01
      Winning trades: 14/15 (93.3% win rate)
      Losing trades: 1
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000443
      Std dev: 0.005026
      Min/Max: -0.017802 / 0.034694
      Long positions: 15
  â†’ Threshold (sharpe): BUY=0.6401 | Sharpe: 2.01 | WinRate: 56.7%
  â†’ AUC: 0.5883 | AUCPR: 0.7350 | Accuracy: 0.6417 (0.4500 w/ threshold)
  â†’ Sharpe: 1.6080 (1.1490 w/ threshold) | Max DD: -0.0271
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-30 to 2023-05-01 (400 samples)
Valid: 2023-05-02 to 2023-12-08 (120 samples)
Class distribution in validation: {1.0: 68, 0.0: 52}
   âœ… Positions opened: 30/120 (25.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=13 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=30/30 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-02 to 2023-12-08
      Winning trades: 15/30 (50.0% win rate)
      Losing trades: 15
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000312
      Std dev: 0.006272
      Min/Max: -0.024606 / 0.046927
      Long positions: 30
  â†’ Threshold (sharpe): BUY=0.7136 | Sharpe: 0.25 | WinRate: 51.9%
  â†’ AUC: 0.4673 | AUCPR: 0.5274 | Accuracy: 0.5333 (0.4333 w/ threshold)
  â†’ Sharpe: 1.1233 (0.5890 w/ threshold) | Max DD: -0.0706
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2022-02-03 to 2023-12-08 (400 samples)
Valid: 2023-12-11 to 2024-06-25 (120 samples)
Class distribution in validation: {1.0: 64, 0.0: 56}
   âœ… Positions opened: 14/120 (11.7%)
   ğŸ” Filter rejections: threshold=52 | percentile=14 | technical=40 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=14/14 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-12-11 to 2024-06-25
      Winning trades: 4/14 (28.6% win rate)
      Losing trades: 10
      Avoided losses: 46 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000091
      Std dev: 0.007282
      Min/Max: -0.019148 / 0.072649
      Long positions: 14
  â†’ Threshold (sharpe): BUY=0.7613 | Sharpe: -0.16 | WinRate: 38.9%
  â†’ AUC: 0.3361 | AUCPR: 0.4641 | Accuracy: 0.3250 (0.4167 w/ threshold)
  â†’ Sharpe: 0.2945 (0.0246 w/ threshold) | Max DD: -0.0604
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-08-08 to 2024-06-25 (400 samples)
Valid: 2024-06-26 to 2024-12-19 (120 samples)
Class distribution in validation: {0.0: 67, 1.0: 53}
   âœ… Positions opened: 19/120 (15.8%)
   ğŸ” Filter rejections: threshold=59 | percentile=36 | technical=6 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.870

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-06-26 to 2024-12-19
      Winning trades: 13/19 (68.4% win rate)
      Losing trades: 6
      Avoided losses: 61 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000463
      Std dev: 0.003778
      Min/Max: -0.018898 / 0.018679
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7924 | Sharpe: 1.25 | WinRate: 58.2%
  â†’ AUC: 0.6080 | AUCPR: 0.5366 | Accuracy: 0.6000 (0.6167 w/ threshold)
  â†’ Sharpe: 1.6216 (1.6123 w/ threshold) | Max DD: -0.0246
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-02-22 to 2024-12-19 (400 samples)
Valid: 2024-12-20 to 2025-08-01 (120 samples)
Class distribution in validation: {0.0: 82, 1.0: 38}
   âœ… Positions opened: 8/120 (6.7%)
   ğŸ” Filter rejections: threshold=68 | percentile=12 | technical=32 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=8/8 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.787

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-12-20 to 2025-08-01
      Winning trades: 2/8 (25.0% win rate)
      Losing trades: 6
      Avoided losses: 76 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000098
      Std dev: 0.003416
      Min/Max: -0.020648 / 0.017182
      Long positions: 8
  â†’ Threshold (sharpe): BUY=0.7795 | Sharpe: 0.08 | WinRate: 54.2%
  â†’ AUC: 0.6277 | AUCPR: 0.4205 | Accuracy: 0.4583 (0.6500 w/ threshold)
  â†’ Sharpe: -1.2420 (-0.8221 w/ threshold) | Max DD: -0.0428
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-09-25 to 2025-08-01 (400 samples)
Valid: 2025-08-04 to 2026-01-29 (98 samples)
Class distribution in validation: {1.0: 56, 0.0: 42}
   âœ… Positions opened: 6/98 (6.1%)
   ğŸ” Filter rejections: threshold=78 | percentile=12 | technical=2 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.963

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-08-04 to 2026-01-29
      Winning trades: 2/6 (33.3% win rate)
      Losing trades: 4
      Avoided losses: 38 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 98/98):
      Mean return: -0.000228
      Std dev: 0.004156
      Min/Max: -0.031066 / 0.016913
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.6712 | Sharpe: 2.18 | WinRate: 53.3%
  â†’ AUC: 0.3710 | AUCPR: 0.5133 | Accuracy: 0.3980 (0.4082 w/ threshold)
  â†’ Sharpe: 2.1862 (-1.1731 w/ threshold) | Max DD: -0.0522
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.588299 0.734954  0.641667              0.450000  1.607961     -0.027068            1.148979   0.933333 0.177215 0.297872       0.640123             NaN           sharpe                 True           0.053179    0.033404    0.626361  7.909810       0.600000           15                     60                  0.500000        0.125000                  59                           15      0.054369                         61                          11                         33                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.467336 0.527369  0.533333              0.433333  1.123333     -0.070624            0.588973   0.500000 0.220588 0.306122       0.713580             NaN           sharpe                 True           0.037450   -0.017550   -0.565038 22.000000       0.500000           30                     54                  0.450000        0.250000                  62                           30      0.030729                         58                          13                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.336077 0.464142  0.325000              0.416667  0.294530     -0.060418            0.024552   0.285714 0.062500 0.102564       0.761327             NaN           sharpe                 True           0.010875   -0.014125   -0.425440 10.000000       0.214286           14                     54                  0.450000        0.116667                  68                           14      0.035264                         52                          14                         40                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.607998 0.536624  0.600000              0.616667  1.621557     -0.024600            1.612290   0.684210 0.245283 0.361111       0.792363             NaN           sharpe                 True           0.055571    0.020694    0.397817 13.950647       0.526316           19                     55                  0.458333        0.158333                  61                           19      0.031361                         59                          36                          6                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.627728 0.420536  0.458333              0.650000 -1.242025     -0.042779           -0.822050   0.250000 0.052632 0.086956       0.779538             NaN           sharpe                 True          -0.011705   -0.019575   -1.116068  3.148028       0.500000            8                     48                  0.400000        0.066667                  52                            8      0.073816                         68                          12                         32                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.370961 0.513332  0.397959              0.408163  2.186201     -0.052201           -1.173088   0.333333 0.035714 0.064516       0.671200             NaN           sharpe                 True          -0.022319   -0.027134   -1.356403  1.926022       0.333333            6                     30                  0.306122        0.061224                  20                            6      0.034889                         78                          12                          2                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.4997 Â± 0.1268
AUCPR:                0.5328 Â± 0.1083
Accuracy:             0.4927 Â± 0.1214
Accuracy (threshold): 0.4958 Â± 0.1080
Sharpe Ratio:         0.9319 Â± 1.2389
Sharpe (threshold):   0.2299 Â± 1.0956
Net Sharpe:           -0.4065 Â± 0.7931
Net Return:           -0.0040 Â± 0.0248
Turnover:             9.8224 Â± 7.4287
Trade Coverage:       0.1296 Â± 0.0695
EV Mean/Fold:         0.04340 Â± 0.01726
Coverage Ratio:       1.0000
Max Drawdown:         -0.0463 Â± 0.0183
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 874 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 874                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0419             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000624                      â•‘
â•‘ Accuracy Variance: 0.000528             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
distance_to_ma200    0.111655
           roc_20    0.110204
        ema_short    0.101479
         ema_long    0.095172
             macd    0.092785
           ADX_14    0.085552
  close_vix_ratio    0.084132
    volatility_20    0.068969
            macds    0.066547
              mfi    0.064813
   price_to_sma20    0.062893
              atr    0.055801
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - AAPL                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 57.6%                                              â”‚
â”‚    â€¢ Max Probability: 68.6%                                                  â”‚
â”‚    â€¢ Min Probability: 42.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 26.3% (Low consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $264.18                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $280.54 (+6.19%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $256.00 (-3.10%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.6%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 264.17999267578125,
  "profit_target": 280.5402180432999,
  "stop_loss": 255.99987999202193,
  "probability": 0.5763011028369268,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02007 | Quality=0.076 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=874 score=-0.4583 net_sharpe=-0.4065 coverage=1.0000 valid_folds_ratio=1.000
  -> ticker=NVDA encoder=off
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=69 | percentile=28 | technical=23 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 6/120 (5.0%)
   ğŸ” Filter rejections: threshold=75 | percentile=26 | technical=13 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.717

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 3/6 (50.0% win rate)
      Losing trades: 3
      Avoided losses: 58 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.003485
      Min/Max: -0.028309 / 0.016306
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.7355 | Sharpe: 1.43 | WinRate: 50.0%
  â†’ AUC: 0.5392 | AUCPR: 0.5197 | Accuracy: 0.5333 (0.5083 w/ threshold)
  â†’ Sharpe: 2.0269 (-0.1103 w/ threshold) | Max DD: -0.0304
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 9/120 (7.5%)
   ğŸ” Filter rejections: threshold=99 | percentile=8 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=9/9 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/9 (44.4% win rate)
      Losing trades: 5
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000051
      Std dev: 0.002871
      Min/Max: -0.025012 / 0.009435
      Long positions: 9
  â†’ Threshold (sharpe): BUY=0.7651 | Sharpe: 0.78 | WinRate: 63.2%
  â†’ AUC: 0.3506 | AUCPR: 0.5731 | Accuracy: 0.3667 (0.3417 w/ threshold)
  â†’ Sharpe: 0.9015 (-0.7190 w/ threshold) | Max DD: -0.0382
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 42/120 (35.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=1 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=42/42 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/42 (59.5% win rate)
      Losing trades: 17
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000018
      Std dev: 0.012737
      Min/Max: -0.100464 / 0.026370
      Long positions: 42
  â†’ Threshold (sharpe): BUY=0.8143 | Sharpe: -0.07 | WinRate: 50.8%
  â†’ AUC: 0.4638 | AUCPR: 0.5265 | Accuracy: 0.5083 (0.5083 w/ threshold)
  â†’ Sharpe: -0.6822 (-0.0765 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7822 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5487 | AUCPR: 0.4800 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=51 | percentile=7 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.8060 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8234 | AUCPR: 0.6845 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.539178 0.519720  0.533333              0.508333  2.026912     -0.030436           -0.110307   0.500000 0.050847 0.092308       0.735500             NaN           sharpe                 True           0.006618   -0.014893   -0.919028  8.604178       0.500000            6                     14                  0.116667        0.050000                  45                            6      0.082294                         75                          26                         13                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.350580 0.573069  0.366667              0.341667  0.901521     -0.038160           -0.719037   0.444444 0.051282 0.091954       0.765075             NaN           sharpe                 True          -0.006081   -0.009831   -0.894429  1.500000       0.555556            9                     19                  0.158333        0.075000                  21                            9      0.092605                         99                           8                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.463813 0.526491  0.508333              0.508333 -0.682180     -0.123761           -0.076502   0.595238 0.373134 0.458715       0.814299             NaN           sharpe                 True           0.002158   -0.009683   -0.199610  4.736610       0.547619           42                     61                  0.508333        0.350000                  62                           42      0.094759                         58                           1                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.548665 0.480026  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.782241             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.823359 0.684534  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.805957             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  42                           20      0.050373                         51                           7                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5451 Â± 0.1746
AUCPR:                0.5568 Â± 0.0787
Accuracy:             0.5360 Â± 0.1171
Accuracy (threshold): 0.5196 Â± 0.1386
Sharpe Ratio:         1.5078 Â± 1.6723
Sharpe (threshold):   0.3348 Â± 1.2154
Net Sharpe:           -0.0575 Â± 1.2035
Net Return:           0.0208 Â± 0.0658
Turnover:             6.1206 Â± 3.3366
Trade Coverage:       0.1730 Â± 0.1202
EV Mean/Fold:         0.08015 Â± 0.01775
Coverage Ratio:       0.8333
Max Drawdown:         -0.0548 Â± 0.0391
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 875 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 875                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5426                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0424             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000623                      â•‘
â•‘ Accuracy Variance: 0.000527             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           roc_20    0.132168
  close_vix_ratio    0.130789
              atr    0.122061
        ema_short    0.119977
         ema_long    0.094073
             macd    0.078267
    volatility_20    0.068413
distance_to_ma200    0.064838
            macds    0.059868
           ADX_14    0.051073
   price_to_sma20    0.039679
              mfi    0.038794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 55.5%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 50.9%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 8.3% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 55.5%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5548900127410888,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02635 | Quality=0.055 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=875 score=-0.0088 net_sharpe=-0.0575 coverage=0.8333 valid_folds_ratio=0.833
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=61 | percentile=9 | technical=38 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-12 to 2023-05-23
      Winning trades: 7/12 (58.3% win rate)
      Losing trades: 5
      Avoided losses: 17 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000005
      Std dev: 0.007609
      Min/Max: -0.040851 / 0.040563
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6399 | Sharpe: 1.94 | WinRate: 60.0%
  â†’ AUC: 0.2720 | AUCPR: 0.7266 | Accuracy: 0.4833 (0.2000 w/ threshold)
  â†’ Sharpe: 2.6448 (-0.1755 w/ threshold) | Max DD: -0.0875
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7134 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5568 | AUCPR: 0.5444 | Accuracy: 0.5167 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3222 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 10/120 (8.3%)
   ğŸ” Filter rejections: threshold=90 | percentile=16 | technical=4 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=10/10 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/10 (40.0% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000131
      Std dev: 0.003001
      Min/Max: -0.025012 / 0.009435
      Long positions: 10
  â†’ Threshold (sharpe): BUY=0.6847 | Sharpe: 1.88 | WinRate: 60.5%
  â†’ AUC: 0.3690 | AUCPR: 0.5802 | Accuracy: 0.4000 (0.3333 w/ threshold)
  â†’ Sharpe: 1.4597 (-1.1140 w/ threshold) | Max DD: -0.0457
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=54 | percentile=22 | technical=10 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 24/34 (70.6% win rate)
      Losing trades: 10
      Avoided losses: 43 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000174
      Std dev: 0.012208
      Min/Max: -0.100464 / 0.026370
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7426 | Sharpe: -0.21 | WinRate: 51.7%
  â†’ AUC: 0.4863 | AUCPR: 0.5483 | Accuracy: 0.5000 (0.5583 w/ threshold)
  â†’ Sharpe: -0.5613 (0.1227 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=67 | percentile=9 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7340 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5435 | AUCPR: 0.4786 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 19/93 (20.4%)
   ğŸ” Filter rejections: threshold=53 | percentile=7 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 15/19 (78.9% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001710
      Std dev: 0.010930
      Min/Max: -0.043775 / 0.049772
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7746 | Sharpe: 2.90 | WinRate: 66.7%
  â†’ AUC: 0.8301 | AUCPR: 0.6957 | Accuracy: 0.7097 (0.7204 w/ threshold)
  â†’ Sharpe: 4.0158 (2.3684 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.272032 0.726635  0.483333              0.200000  2.644838     -0.087497           -0.175526   0.583333 0.071429 0.127273       0.639877             NaN           sharpe                 True          -0.000572   -0.020572   -0.528954  8.000000       0.500000           12                     60                  0.500000        0.100000                  59                           12      0.089164                         61                           9                         38                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.556821 0.544368  0.516667              0.566667  1.322164     -0.039412            2.759823   0.629630 0.288136 0.395348       0.713420             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  55                           27      0.085217                         65                          10                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.369048 0.580182  0.400000              0.333333  1.459727     -0.045655           -1.113972   0.400000 0.051282 0.090909       0.684713             NaN           sharpe                 True          -0.015747   -0.018247   -1.226652  1.000000       0.500000           10                     38                  0.316667        0.083333                  30                           10      0.092605                         90                          16                          4                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.486342 0.548275  0.500000              0.558333 -0.561283     -0.123761            0.122704   0.705882 0.358209 0.475247       0.742564             NaN           sharpe                 True           0.020847    0.009006   -0.005618  4.736610       0.558824           34                     60                  0.500000        0.283333                  66                           34      0.094759                         54                          22                         10                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543521 0.478648  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.733957             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  53                           21      0.080742                         67                           9                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.830116 0.695744  0.709677              0.720430  4.015823     -0.047620            2.368384   0.789474 0.405405 0.535714       0.774572             NaN           sharpe                 True           0.159040    0.134064    1.948290  9.990380       0.631579           19                     33                  0.354839        0.204301                  40                           19      0.050373                         53                           7                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5096 Â± 0.1912
AUCPR:                0.5956 Â± 0.0959
Accuracy:             0.5322 Â± 0.1051
Accuracy (threshold): 0.4812 Â± 0.1856
Sharpe Ratio:         1.7118 Â± 1.5274
Sharpe (threshold):   0.6850 Â± 1.5310
Net Sharpe:           0.3717 Â± 1.4321
Net Return:           0.0446 Â± 0.0818
Turnover:             6.7429 Â± 3.6836
Trade Coverage:       0.1785 Â± 0.0762
EV Mean/Fold:         0.08214 Â± 0.01636
Coverage Ratio:       1.0000
Max Drawdown:         -0.0630 Â± 0.0353
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 876 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 876                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0432             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000624                      â•‘
â•‘ Accuracy Variance: 0.000526             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.125517
              atr    0.123712
        ema_short    0.117557
           roc_20    0.100196
         ema_long    0.083682
distance_to_ma200    0.080844
             macd    0.080316
    volatility_20    0.071201
            macds    0.056945
   price_to_sma20    0.055936
           ADX_14    0.053249
              mfi    0.050846
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 54.8%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 45.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 13.4% (Moderate consensus)                         â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 54.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5477197964986166,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02541 | Quality=0.048 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=876 score=0.1949 net_sharpe=0.3717 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 13
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=19 | technical=20 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=70 | percentile=5 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5589 | AUCPR: 0.5454 | Accuracy: 0.5083 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3009 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 17/120 (14.2%)
   ğŸ” Filter rejections: threshold=80 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=17/17 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 6/17 (35.3% win rate)
      Losing trades: 11
      Avoided losses: 31 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000139
      Std dev: 0.003294
      Min/Max: -0.025012 / 0.010274
      Long positions: 17
  â†’ Threshold (sharpe): BUY=0.7673 | Sharpe: 1.71 | WinRate: 59.5%
  â†’ AUC: 0.4042 | AUCPR: 0.5900 | Accuracy: 0.4583 (0.3083 w/ threshold)
  â†’ Sharpe: 2.8896 (-1.0522 w/ threshold) | Max DD: -0.0541
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=53 | percentile=18 | technical=11 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/38 (65.8% win rate)
      Losing trades: 13
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.012507
      Min/Max: -0.100464 / 0.026370
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.7963 | Sharpe: -0.15 | WinRate: 49.0%
  â†’ AUC: 0.4880 | AUCPR: 0.5402 | Accuracy: 0.5167 (0.5417 w/ threshold)
  â†’ Sharpe: -0.2802 (0.5498 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7702 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5455 | AUCPR: 0.4794 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.7981 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8224 | AUCPR: 0.6842 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.558905 0.545389  0.508333              0.566667  1.300856     -0.039412            2.759823   0.629630 0.288136 0.395348       0.765500             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  50                           27      0.085217                         70                           5                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.404151 0.589963  0.458333              0.308333  2.889561     -0.054112           -1.052159   0.352941 0.076923 0.126315       0.767345             NaN           sharpe                 True          -0.016679   -0.021679   -1.253270  2.000000       0.470588           17                     42                  0.350000        0.141667                  40                           17      0.092605                         80                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.488032 0.540228  0.516667              0.541667 -0.280160     -0.123761            0.549771   0.657895 0.373134 0.476190       0.796274             NaN           sharpe                 True           0.061503    0.052622    0.455786  3.552457       0.578947           38                     49                  0.408333        0.316667                  67                           38      0.094759                         53                          18                         11                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545467 0.479388  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.770163             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.822394 0.684166  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.798106             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  43                           20      0.050373                         50                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5638 Â± 0.1569
AUCPR:                0.5678 Â± 0.0760
Accuracy:             0.5510 Â± 0.0887
Accuracy (threshold): 0.5312 Â± 0.1513
Sharpe Ratio:         1.8406 Â± 1.6084
Sharpe (threshold):   0.9675 Â± 1.6032
Net Sharpe:           0.6513 Â± 1.5169
Net Return:           0.0664 Â± 0.0819
Turnover:             6.4546 Â± 3.9217
Trade Coverage:       0.2147 Â± 0.0660
EV Mean/Fold:         0.08074 Â± 0.01789
Coverage Ratio:       0.8333
Max Drawdown:         -0.0598 Â± 0.0366
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 877 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 877                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0441             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000623                      â•‘
â•‘ Accuracy Variance: 0.000526             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.136077
        ema_short    0.122475
           roc_20    0.119206
              atr    0.110158
             macd    0.087276
         ema_long    0.080214
distance_to_ma200    0.076619
    volatility_20    0.069650
            macds    0.062816
           ADX_14    0.056173
              mfi    0.043912
   price_to_sma20    0.035424
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 57.0%                                              â”‚
â”‚    â€¢ Max Probability: 59.3%                                                  â”‚
â”‚    â€¢ Min Probability: 51.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 7.9% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.0%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5695225238800049,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02825 | Quality=0.070 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=877 score=0.4026 net_sharpe=0.6513 coverage=0.8333 valid_folds_ratio=0.833
  -> ticker=NVDA encoder=tcn
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=69 | percentile=28 | technical=23 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 6/120 (5.0%)
   ğŸ” Filter rejections: threshold=75 | percentile=26 | technical=13 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=6/6 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.717

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 3/6 (50.0% win rate)
      Losing trades: 3
      Avoided losses: 58 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000055
      Std dev: 0.003485
      Min/Max: -0.028309 / 0.016306
      Long positions: 6
  â†’ Threshold (sharpe): BUY=0.7355 | Sharpe: 1.43 | WinRate: 50.0%
  â†’ AUC: 0.5392 | AUCPR: 0.5197 | Accuracy: 0.5333 (0.5083 w/ threshold)
  â†’ Sharpe: 2.0269 (-0.1103 w/ threshold) | Max DD: -0.0304
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 9/120 (7.5%)
   ğŸ” Filter rejections: threshold=99 | percentile=8 | technical=4 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=9/9 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/9 (44.4% win rate)
      Losing trades: 5
      Avoided losses: 37 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000051
      Std dev: 0.002871
      Min/Max: -0.025012 / 0.009435
      Long positions: 9
  â†’ Threshold (sharpe): BUY=0.7651 | Sharpe: 0.78 | WinRate: 63.2%
  â†’ AUC: 0.3506 | AUCPR: 0.5731 | Accuracy: 0.3667 (0.3417 w/ threshold)
  â†’ Sharpe: 0.9015 (-0.7190 w/ threshold) | Max DD: -0.0382
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 42/120 (35.0%)
   ğŸ” Filter rejections: threshold=58 | percentile=1 | technical=19 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=42/42 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/42 (59.5% win rate)
      Losing trades: 17
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000018
      Std dev: 0.012737
      Min/Max: -0.100464 / 0.026370
      Long positions: 42
  â†’ Threshold (sharpe): BUY=0.8143 | Sharpe: -0.07 | WinRate: 50.8%
  â†’ AUC: 0.4638 | AUCPR: 0.5265 | Accuracy: 0.5083 (0.5083 w/ threshold)
  â†’ Sharpe: -0.6822 (-0.0765 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7822 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5487 | AUCPR: 0.4800 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=51 | percentile=7 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.8060 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8234 | AUCPR: 0.6845 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.539178 0.519720  0.533333              0.508333  2.026912     -0.030436           -0.110307   0.500000 0.050847 0.092308       0.735500             NaN           sharpe                 True           0.006618   -0.014893   -0.919028  8.604178       0.500000            6                     14                  0.116667        0.050000                  45                            6      0.082294                         75                          26                         13                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.350580 0.573069  0.366667              0.341667  0.901521     -0.038160           -0.719037   0.444444 0.051282 0.091954       0.765075             NaN           sharpe                 True          -0.006081   -0.009831   -0.894429  1.500000       0.555556            9                     19                  0.158333        0.075000                  21                            9      0.092605                         99                           8                          4                            0                           0                         2                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.463813 0.526491  0.508333              0.508333 -0.682180     -0.123761           -0.076502   0.595238 0.373134 0.458715       0.814299             NaN           sharpe                 True           0.002158   -0.009683   -0.199610  4.736610       0.547619           42                     61                  0.508333        0.350000                  62                           42      0.094759                         58                           1                         19                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.548665 0.480026  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.782241             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.823359 0.684534  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.805957             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  42                           20      0.050373                         51                           7                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5451 Â± 0.1746
AUCPR:                0.5568 Â± 0.0787
Accuracy:             0.5360 Â± 0.1171
Accuracy (threshold): 0.5196 Â± 0.1386
Sharpe Ratio:         1.5078 Â± 1.6723
Sharpe (threshold):   0.3348 Â± 1.2154
Net Sharpe:           -0.0575 Â± 1.2035
Net Return:           0.0208 Â± 0.0658
Turnover:             6.1206 Â± 3.3366
Trade Coverage:       0.1730 Â± 0.1202
EV Mean/Fold:         0.08015 Â± 0.01775
Coverage Ratio:       0.8333
Max Drawdown:         -0.0548 Â± 0.0391
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 878 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 878                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0446             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000623                      â•‘
â•‘ Accuracy Variance: 0.000526             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
           roc_20    0.132168
  close_vix_ratio    0.130789
              atr    0.122061
        ema_short    0.119977
         ema_long    0.094073
             macd    0.078267
    volatility_20    0.068413
distance_to_ma200    0.064838
            macds    0.059868
           ADX_14    0.051073
   price_to_sma20    0.039679
              mfi    0.038794
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 55.5%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 50.9%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 8.3% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 55.5%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5548900127410888,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02635 | Quality=0.055 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=42 run=878 score=-0.0088 net_sharpe=-0.0575 coverage=0.8333 valid_folds_ratio=0.833
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 12/120 (10.0%)
   ğŸ” Filter rejections: threshold=61 | percentile=9 | technical=38 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=12/12 | skipped uncertain=0 | skipped low_conf=0 | avg size=1.000

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2022-10-12 to 2023-05-23
      Winning trades: 7/12 (58.3% win rate)
      Losing trades: 5
      Avoided losses: 17 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000005
      Std dev: 0.007609
      Min/Max: -0.040851 / 0.040563
      Long positions: 12
  â†’ Threshold (sharpe): BUY=0.6399 | Sharpe: 1.94 | WinRate: 60.0%
  â†’ AUC: 0.2720 | AUCPR: 0.7266 | Accuracy: 0.4833 (0.2000 w/ threshold)
  â†’ Sharpe: 2.6448 (-0.1755 w/ threshold) | Max DD: -0.0875
   Skipping visualizations (mode=none)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=65 | percentile=10 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7134 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5568 | AUCPR: 0.5444 | Accuracy: 0.5167 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3222 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 10/120 (8.3%)
   ğŸ” Filter rejections: threshold=90 | percentile=16 | technical=4 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=10/10 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 4/10 (40.0% win rate)
      Losing trades: 6
      Avoided losses: 36 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000131
      Std dev: 0.003001
      Min/Max: -0.025012 / 0.009435
      Long positions: 10
  â†’ Threshold (sharpe): BUY=0.6847 | Sharpe: 1.88 | WinRate: 60.5%
  â†’ AUC: 0.3690 | AUCPR: 0.5802 | Accuracy: 0.4000 (0.3333 w/ threshold)
  â†’ Sharpe: 1.4597 (-1.1140 w/ threshold) | Max DD: -0.0457
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 34/120 (28.3%)
   ğŸ” Filter rejections: threshold=54 | percentile=22 | technical=10 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=34/34 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 24/34 (70.6% win rate)
      Losing trades: 10
      Avoided losses: 43 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000174
      Std dev: 0.012208
      Min/Max: -0.100464 / 0.026370
      Long positions: 34
  â†’ Threshold (sharpe): BUY=0.7426 | Sharpe: -0.21 | WinRate: 51.7%
  â†’ AUC: 0.4863 | AUCPR: 0.5483 | Accuracy: 0.5000 (0.5583 w/ threshold)
  â†’ Sharpe: -0.5613 (0.1227 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=67 | percentile=9 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7340 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5435 | AUCPR: 0.4786 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 19/93 (20.4%)
   ğŸ” Filter rejections: threshold=53 | percentile=7 | technical=14 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=19/19 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 15/19 (78.9% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001710
      Std dev: 0.010930
      Min/Max: -0.043775 / 0.049772
      Long positions: 19
  â†’ Threshold (sharpe): BUY=0.7746 | Sharpe: 2.90 | WinRate: 66.7%
  â†’ AUC: 0.8301 | AUCPR: 0.6957 | Accuracy: 0.7097 (0.7204 w/ threshold)
  â†’ Sharpe: 4.0158 (2.3684 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 6 | Skipped: 0

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    1 0.272032 0.726635  0.483333              0.200000  2.644838     -0.087497           -0.175526   0.583333 0.071429 0.127273       0.639877             NaN           sharpe                 True          -0.000572   -0.020572   -0.528954  8.000000       0.500000           12                     60                  0.500000        0.100000                  59                           12      0.089164                         61                           9                         38                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    2 0.556821 0.544368  0.516667              0.566667  1.322164     -0.039412            2.759823   0.629630 0.288136 0.395348       0.713420             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  55                           27      0.085217                         65                          10                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.369048 0.580182  0.400000              0.333333  1.459727     -0.045655           -1.113972   0.400000 0.051282 0.090909       0.684713             NaN           sharpe                 True          -0.015747   -0.018247   -1.226652  1.000000       0.500000           10                     38                  0.316667        0.083333                  30                           10      0.092605                         90                          16                          4                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.486342 0.548275  0.500000              0.558333 -0.561283     -0.123761            0.122704   0.705882 0.358209 0.475247       0.742564             NaN           sharpe                 True           0.020847    0.009006   -0.005618  4.736610       0.558824           34                     60                  0.500000        0.283333                  66                           34      0.094759                         54                          22                         10                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.543521 0.478648  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.733957             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  53                           21      0.080742                         67                           9                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.830116 0.695744  0.709677              0.720430  4.015823     -0.047620            2.368384   0.789474 0.405405 0.535714       0.774572             NaN           sharpe                 True           0.159040    0.134064    1.948290  9.990380       0.631579           19                     33                  0.354839        0.204301                  40                           19      0.050373                         53                           7                         14                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- AGGREGATE STATISTICS ---
AUC:                  0.5096 Â± 0.1912
AUCPR:                0.5956 Â± 0.0959
Accuracy:             0.5322 Â± 0.1051
Accuracy (threshold): 0.4812 Â± 0.1856
Sharpe Ratio:         1.7118 Â± 1.5274
Sharpe (threshold):   0.6850 Â± 1.5310
Net Sharpe:           0.3717 Â± 1.4321
Net Return:           0.0446 Â± 0.0818
Turnover:             6.7429 Â± 3.6836
Trade Coverage:       0.1785 Â± 0.0762
EV Mean/Fold:         0.08214 Â± 0.01636
Coverage Ratio:       1.0000
Max Drawdown:         -0.0630 Â± 0.0353
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 879 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 879                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0454             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000623                      â•‘
â•‘ Accuracy Variance: 0.000525             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.125517
              atr    0.123712
        ema_short    0.117557
           roc_20    0.100196
         ema_long    0.083682
distance_to_ma200    0.080844
             macd    0.080316
    volatility_20    0.071201
            macds    0.056945
   price_to_sma20    0.055936
           ADX_14    0.053249
              mfi    0.050846
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 6                                                     â”‚
â”‚    â€¢ Average Probability: 54.8%                                              â”‚
â”‚    â€¢ Max Probability: 59.1%                                                  â”‚
â”‚    â€¢ Min Probability: 45.7%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 13.4% (Moderate consensus)                         â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 54.8%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5477197964986166,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02541 | Quality=0.048 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=77 run=879 score=0.1949 net_sharpe=0.3717 coverage=1.0000 valid_folds_ratio=1.000
/home/albertojoya/Documentos/ForecastTRADE/.venv/lib64/python3.12/site-packages/joblib/_multiprocessing_helpers.py:44: UserWarning: [Errno 13] Permission denied.  joblib will operate in serial mode
  warnings.warn("%s.  joblib will operate in serial mode" % (e,))

ğŸ“Š Feature engineering summary:
   â€¢ Requested seed features: 32
   â€¢ Available from seed: 25
   â€¢ Correlation-based drops: 15
   â€¢ Low-importance drops: 8
   â€¢ Final contract features: 25

ğŸ‘‘ --- Launching XGBoost with Time-Series-Aware Cross-Validation --- ğŸ‘‘

--- Starting Time-Series-Aware Model Training ---
Configured folds: 12 | Min validation size: 60 | Trading mode: long_only | mode=fast | plots=none
âœ¨ Using SLIDING WINDOW strategy (adaptive, not expanding)
   Train window: 400 days | Test window: 120 days
   This allows model to adapt faster to market regime changes
   Generated 6 sliding window splits

--- Fold 1/6 (TimeSeriesSplit) ---
Train: 2020-12-11 to 2022-10-11 (400 samples)
Valid: 2022-10-12 to 2023-05-23 (120 samples)
Class distribution in validation: {1.0: 98, 0.0: 22}
   âœ… Positions opened: 0/120 (0.0%)
   ğŸ” Filter rejections: threshold=81 | percentile=19 | technical=20 | regime_gate=0 | threshold_relaxed=2
   ğŸ“ Position sizing: sized=0/0 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.000
âš ï¸ Fold 1: Skipped from aggregate metrics - insufficient trades (0 < 3)

--- Fold 2/6 (TimeSeriesSplit) ---
Train: 2021-06-16 to 2023-05-23 (400 samples)
Valid: 2023-05-24 to 2024-01-02 (120 samples)
Class distribution in validation: {0.0: 61, 1.0: 59}
   âœ… Positions opened: 27/120 (22.5%)
   ğŸ” Filter rejections: threshold=70 | percentile=5 | technical=18 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=27/27 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.783

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2023-05-24 to 2024-01-02
      Winning trades: 17/27 (63.0% win rate)
      Losing trades: 10
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.001587
      Std dev: 0.008671
      Min/Max: -0.028309 / 0.066309
      Long positions: 27
  â†’ Threshold (sharpe): BUY=0.7655 | Sharpe: 2.10 | WinRate: 57.8%
  â†’ AUC: 0.5589 | AUCPR: 0.5454 | Accuracy: 0.5083 (0.5667 w/ threshold)
  â†’ Sharpe: 1.3009 (2.7598 w/ threshold) | Max DD: -0.0394
   Skipping visualizations (mode=none)

--- Fold 3/6 (TimeSeriesSplit) ---
Train: 2021-12-30 to 2024-01-02 (400 samples)
Valid: 2024-01-03 to 2024-07-25 (120 samples)
Class distribution in validation: {1.0: 78, 0.0: 42}
   âœ… Positions opened: 17/120 (14.2%)
   ğŸ” Filter rejections: threshold=80 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=17/17 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.250

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-01-03 to 2024-07-25
      Winning trades: 6/17 (35.3% win rate)
      Losing trades: 11
      Avoided losses: 31 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: -0.000139
      Std dev: 0.003294
      Min/Max: -0.025012 / 0.010274
      Long positions: 17
  â†’ Threshold (sharpe): BUY=0.7673 | Sharpe: 1.71 | WinRate: 59.5%
  â†’ AUC: 0.4042 | AUCPR: 0.5900 | Accuracy: 0.4583 (0.3083 w/ threshold)
  â†’ Sharpe: 2.8896 (-1.0522 w/ threshold) | Max DD: -0.0541
   Skipping visualizations (mode=none)

--- Fold 4/6 (TimeSeriesSplit) ---
Train: 2022-07-29 to 2024-07-25 (400 samples)
Valid: 2024-07-26 to 2025-02-06 (120 samples)
Class distribution in validation: {1.0: 67, 0.0: 53}
   âœ… Positions opened: 38/120 (31.7%)
   ğŸ” Filter rejections: threshold=53 | percentile=18 | technical=11 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=38/38 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.592

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2024-07-26 to 2025-02-06
      Winning trades: 25/38 (65.8% win rate)
      Losing trades: 13
      Avoided losses: 40 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000513
      Std dev: 0.012507
      Min/Max: -0.100464 / 0.026370
      Long positions: 38
  â†’ Threshold (sharpe): BUY=0.7963 | Sharpe: -0.15 | WinRate: 49.0%
  â†’ AUC: 0.4880 | AUCPR: 0.5402 | Accuracy: 0.5167 (0.5417 w/ threshold)
  â†’ Sharpe: -0.2802 (0.5498 w/ threshold) | Max DD: -0.1238
   Skipping visualizations (mode=none)

--- Fold 5/6 (TimeSeriesSplit) ---
Train: 2023-03-03 to 2025-02-06 (400 samples)
Valid: 2025-02-07 to 2025-09-04 (120 samples)
Class distribution in validation: {0.0: 62, 1.0: 58}
   âœ… Positions opened: 21/120 (17.5%)
   ğŸ” Filter rejections: threshold=68 | percentile=8 | technical=23 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=21/21 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.825

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-02-07 to 2025-09-04
      Winning trades: 10/21 (47.6% win rate)
      Losing trades: 11
      Avoided losses: 51 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 120/120):
      Mean return: 0.000121
      Std dev: 0.004425
      Min/Max: -0.028858 / 0.015798
      Long positions: 21
  â†’ Threshold (sharpe): BUY=0.7702 | Sharpe: -0.41 | WinRate: 51.7%
  â†’ AUC: 0.5455 | AUCPR: 0.4794 | Accuracy: 0.5833 (0.5083 w/ threshold)
  â†’ Sharpe: 1.3896 (0.1484 w/ threshold) | Max DD: -0.0339
   Skipping visualizations (mode=none)

--- Fold 6/6 (TimeSeriesSplit) ---
Train: 2023-10-17 to 2025-09-04 (400 samples)
Valid: 2025-09-05 to 2026-01-29 (93 samples)
Class distribution in validation: {0.0: 56, 1.0: 37}
   âœ… Positions opened: 20/93 (21.5%)
   ğŸ” Filter rejections: threshold=50 | percentile=8 | technical=15 | regime_gate=0 | threshold_relaxed=0
   ğŸ“ Position sizing: sized=20/20 | skipped uncertain=0 | skipped low_conf=0 | avg size=0.999

   ğŸ“Š Backtest Results (Validation Period):
      Period: 2025-09-05 to 2026-01-29
      Winning trades: 16/20 (80.0% win rate)
      Losing trades: 4
      Avoided losses: 52 (correctly predicted losers)
   ğŸ“Š Returns stats (valid days: 93/93):
      Mean return: 0.001754
      Std dev: 0.010932
      Min/Max: -0.043775 / 0.049772
      Long positions: 20
  â†’ Threshold (sharpe): BUY=0.7981 | Sharpe: 2.83 | WinRate: 64.9%
  â†’ AUC: 0.8224 | AUCPR: 0.6842 | Accuracy: 0.6882 (0.7312 w/ threshold)
  â†’ Sharpe: 3.9034 (2.4316 w/ threshold) | Max DD: -0.0476
   Skipping visualizations (mode=none)

Configured folds: 6 | Executed valid folds: 5 | Skipped: 1

================================================================================
--- CROSS-VALIDATION SUMMARY (Valid Folds) ---
================================================================================
 fold      auc    aucpr  accuracy  accuracy_thresholded    sharpe  max_drawdown  sharpe_thresholded  precision   recall       f1  threshold_buy  threshold_sell threshold_metric  adaptive_thresholds  fold_total_return  net_return  net_sharpe  turnover  fold_win_rate  fold_trades  n_trades_at_threshold  trade_ratio_at_threshold  trade_coverage  n_long_signals_raw  n_long_signals_post_filters  ev_mean_fold  filter_threshold_rejected  filter_percentile_rejected  filter_technical_rejected  filter_regime_gate_rejected  filter_confidence_rejected  filter_threshold_relaxed  calibration_enabled calibration_method         calibration_reason  calibration_error  brier
    2 0.558905 0.545389  0.508333              0.566667  1.300856     -0.039412            2.759823   0.629630 0.288136 0.395348       0.765500             NaN           sharpe                 True           0.190422    0.163026    2.328296 10.958396       0.666667           27                     45                  0.375000        0.225000                  50                           27      0.085217                         70                           5                         18                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    3 0.404151 0.589963  0.458333              0.308333  2.889561     -0.054112           -1.052159   0.352941 0.076923 0.126315       0.767345             NaN           sharpe                 True          -0.016679   -0.021679   -1.253270  2.000000       0.470588           17                     42                  0.350000        0.141667                  40                           17      0.092605                         80                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    4 0.488032 0.540228  0.516667              0.541667 -0.280160     -0.123761            0.549771   0.657895 0.373134 0.476190       0.796274             NaN           sharpe                 True           0.061503    0.052622    0.455786  3.552457       0.578947           38                     49                  0.408333        0.316667                  67                           38      0.094759                         53                          18                         11                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    5 0.545467 0.479388  0.583333              0.508333  1.389607     -0.033873            0.148373   0.476190 0.172414 0.253164       0.770163             NaN           sharpe                 True           0.014487    0.000057   -0.285342  5.771955       0.571429           21                     60                  0.500000        0.175000                  52                           21      0.080742                         68                           8                         23                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN
    6 0.822394 0.684166  0.688172              0.731183  3.903353     -0.047620            2.431592   0.800000 0.432432 0.561403       0.798106             NaN           sharpe                 True           0.163105    0.138129    2.010944  9.990380       0.650000           20                     37                  0.397849        0.215054                  43                           20      0.050373                         50                           8                         15                            0                           0                         0                False               none disabled_by_mode_or_config                NaN    NaN

--- SKIPPED FOLDS REPORT ---
Fold 1: insufficient_trades

--- AGGREGATE STATISTICS ---
AUC:                  0.5638 Â± 0.1569
AUCPR:                0.5678 Â± 0.0760
Accuracy:             0.5510 Â± 0.0887
Accuracy (threshold): 0.5312 Â± 0.1513
Sharpe Ratio:         1.8406 Â± 1.6084
Sharpe (threshold):   0.9675 Â± 1.6032
Net Sharpe:           0.6513 Â± 1.5169
Net Return:           0.0664 Â± 0.0819
Turnover:             6.4546 Â± 3.9217
Trade Coverage:       0.2147 Â± 0.0660
EV Mean/Fold:         0.08074 Â± 0.01789
Coverage Ratio:       0.8333
Max Drawdown:         -0.0598 Â± 0.0366
================================================================================

ğŸ“Š Logging results to accumulative JSON...
   âœ… Run 880 logged successfully

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCUMULATIVE RUN LOG SUMMARY                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total Runs: 880                                    â•‘
â•‘ Best AUC: 0.6764                              â•‘
â•‘ Best Accuracy: 0.5944                      â•‘
â•‘ Best Sharpe Ratio: 2.0518                  â•‘
â•‘ Best Net Sharpe: 1.8530                   â•‘
â•‘                                                            â•‘
â•‘ Average AUC: 0.5425                         â•‘
â•‘ Average Accuracy: 0.5321                 â•‘
â•‘ Average Sharpe Ratio: 1.0463             â•‘
â•‘                                                            â•‘
â•‘ AUC Variance: 0.000623                      â•‘
â•‘ Accuracy Variance: 0.000525             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
   âœ… Run summary exported to out/runs_summary.csv

--- Top 15 Feature Importances ---
          feature  importance
  close_vix_ratio    0.136077
        ema_short    0.122475
           roc_20    0.119206
              atr    0.110158
             macd    0.087276
         ema_long    0.080214
distance_to_ma200    0.076619
    volatility_20    0.069650
            macds    0.062816
           ADX_14    0.056173
              mfi    0.043912
   price_to_sma20    0.035424
    lstm_latent_9    0.000000
    lstm_latent_5    0.000000
    lstm_latent_4    0.000000

âš ï¸ Features with <1% importance (13 total):
   lstm_latent_9, lstm_latent_5, lstm_latent_4, lstm_latent_3, lstm_latent_1, lstm_latent_0, lstm_latent_8, lstm_latent_7, lstm_latent_6, lstm_dir_5d...
   ğŸ’¡ Consider removing these in future runs for better performance
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                   ğŸ”® FINAL ENSEMBLE RECOMMENDATION - NVDA                    â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚  Ensemble Statistics:                                                        â”‚
â”‚    â€¢ Number of Models: 5                                                     â”‚
â”‚    â€¢ Average Probability: 57.0%                                              â”‚
â”‚    â€¢ Max Probability: 59.3%                                                  â”‚
â”‚    â€¢ Min Probability: 51.3%                                                  â”‚
â”‚    â€¢ Confidence (Spread): 7.9% (High consensus)                              â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¯ TRADING RECOMMENDATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Valid from: 2026-02-27                                                     â”‚
â”‚                                                                              â”‚
â”‚   Entry Point:                                                               â”‚
â”‚     ğŸ’° Price: $177.19                                                        â”‚
â”‚                                                                              â”‚
â”‚   Target Levels:                                                             â”‚
â”‚     ğŸ¯ Profit Target: $192.57 (+8.68%)                                       â”‚
â”‚     ğŸ›‘ Stop Loss:     $169.50 (-4.34%)                                       â”‚
â”‚                                                                              â”‚
â”‚   Dynamic Risk Config:                                                       â”‚
â”‚   {                                                                          â”‚
â”‚     "dynamic_risk": {                                                        â”‚
â”‚       "type": "Volatility_Adjusted",                                         â”‚
â”‚       "params": {                                                            â”‚
â”‚         "k_tp": 2.5,                                                         â”‚
â”‚         "k_sl": 1.25,                                                        â”‚
â”‚         "vol_metric": "rolling_std_20d"                                      â”‚
â”‚       }                                                                      â”‚
â”‚     }                                                                        â”‚
â”‚   }                                                                          â”‚
â”‚                                                                              â”‚
â”‚   Forecast:                                                                  â”‚
â”‚     ğŸ“Š Win Probability: 57.0%                                                â”‚
â”‚                                                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚     RECOMMENDATION: HOLD / WAIT                                              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Signal not clear enough â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Recommendation payload:
{
  "entry": 177.19000244140625,
  "profit_target": 192.5698729315299,
  "stop_loss": 169.50006719634445,
  "probability": 0.5695225238800049,
  "dynamic_risk": {
    "type": "Volatility_Adjusted",
    "params": {
      "k_tp": 2.5,
      "k_sl": 1.25,
      "vol_metric": "rolling_std_20d"
    }
  }
}

   ğŸ§­ Decision state: WATCHLIST | EV=0.02825 | Quality=0.070 | reason=below_dynamic_threshold
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline execution completed successfully!                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  âœ… Pipeline finished.                                                       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
seed=101 run=880 score=0.4026 net_sharpe=0.6513 coverage=0.8333 valid_folds_ratio=0.833

=== Best candidate ===
id=c4_conservative_mid score_mean=-0.1015 robust_score=-0.2392 net_sharpe_mean=0.0840 net_sharpe_std=0.3561 coverage_mean=0.9630 valid_folds_ratio_mean=0.9630
âš ï¸ Constraints not met: default promotion blocked, best-config-out keeps baseline config
saved out/benchmark_v26_bal_mid.json
saved out/benchmark_v26_bal_mid.csv
saved out/recommended_v26_bal_mid.yaml
